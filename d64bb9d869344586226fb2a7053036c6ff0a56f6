{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "d2b03b84_7901989e",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000011
      },
      "writtenOn": "2023-05-26T04:45:53Z",
      "side": 1,
      "message": "korli, any ideas?\n\nIn the syslog, not long before the KDL, there is:\n\nusb_disk: CALLED status_t usb_disk_register_child_devices(void*)\npublish device: node 0xffffffff823f5de0, path disk/usb/0/0/raw, module drivers/disk/usb_disk/device_v1\n\nSo, we should have /dev/disk/usb/0/0/raw. But it seems nothing calls open() on it. All other information looks correct, and I can see it in \"dm_tree\" KDL command output.",
      "revId": "d64bb9d869344586226fb2a7053036c6ff0a56f6",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d5044f42_30adfe85",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000011
      },
      "writtenOn": "2023-05-26T04:46:46Z",
      "side": 1,
      "message": "This is also a pretty good example of the device_manager\u0027s boilerplate problems. The new code is *longer* than the old code by over 20 lines.",
      "revId": "d64bb9d869344586226fb2a7053036c6ff0a56f6",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f8a3c80d_a95c6b63",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000011
      },
      "writtenOn": "2023-05-26T04:48:53Z",
      "side": 1,
      "message": "(The KDL is \"PANIC: did not find any boot partitions!\")",
      "parentUuid": "d2b03b84_7901989e",
      "revId": "d64bb9d869344586226fb2a7053036c6ff0a56f6",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "232060ce_c89e530a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000001
      },
      "writtenOn": "2023-05-26T07:02:56Z",
      "side": 1,
      "message": "It\u0027s easy to remove 20 lines from this code: you can remove the empty \"uninit\" functions",
      "parentUuid": "d5044f42_30adfe85",
      "revId": "d64bb9d869344586226fb2a7053036c6ff0a56f6",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "11e641e3_d017d6cd",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000023
      },
      "writtenOn": "2023-05-26T21:12:01Z",
      "side": 1,
      "message": "The driver works as expected, the kernel tries to explore /dev/disk too soon.\nI added a \"snooze(300000);\" at the top of vfs_mount_boot_file_system(), then the partition is found correctly.\n\nhow the device manager can know that the initial usb device scan is complete is a good question.",
      "parentUuid": "f8a3c80d_a95c6b63",
      "revId": "d64bb9d869344586226fb2a7053036c6ff0a56f6",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "019de98a_7704d474",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000011
      },
      "writtenOn": "2023-05-27T03:34:31Z",
      "side": 1,
      "message": "Probably the register_children should not return until the first Scan has occurred?",
      "parentUuid": "11e641e3_d017d6cd",
      "revId": "d64bb9d869344586226fb2a7053036c6ff0a56f6",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7aa7dada_1a0aeaac",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000011
      },
      "writtenOn": "2023-05-27T17:50:00Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "019de98a_7704d474",
      "revId": "d64bb9d869344586226fb2a7053036c6ff0a56f6",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "75a6058b_33c71276",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000001
      },
      "writtenOn": "2023-05-27T17:51:17Z",
      "side": 1,
      "message": "It would be nice to still have it running in a separate thread, so that other busses can also do the same and everything get explored in parallel.\n\nThere is a similar issue for SDHCI if you want to boot from an SD card. It would be sad to have the boot time be longer because you have to wait for USB scan, then SDHC scan, and so on, when they could very well run in parallel in separate threads.\n\nThat means we would need some kind of notification system so the wait for boot partition can wait on all of them?",
      "parentUuid": "019de98a_7704d474",
      "revId": "d64bb9d869344586226fb2a7053036c6ff0a56f6",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b53c4b3d_4bf0dd16",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000023
      },
      "writtenOn": "2023-05-27T21:00:57Z",
      "side": 1,
      "message": "Having everything getting explored in parallel would be nice indeed. Checking the SCSI subsystem, it works about the same. The device manager has a single lock, which makes parallelizing difficult.",
      "parentUuid": "75a6058b_33c71276",
      "revId": "d64bb9d869344586226fb2a7053036c6ff0a56f6",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    }
  ]
}