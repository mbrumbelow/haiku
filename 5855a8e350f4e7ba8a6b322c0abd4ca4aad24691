{
  "comments": [
    {
      "key": {
        "uuid": "639b3cb3_9f90f3ff",
        "filename": "headers/private/kernel/arch/riscv64/arch_kernel_args.h",
        "patchSetId": 1
      },
      "lineNbr": 27,
      "author": {
        "id": 1000172
      },
      "writtenOn": "2021-08-17T23:08:05Z",
      "side": 0,
      "message": "I think that enumeration is fine as long there are no dynamically loaded UART driver modules.",
      "revId": "5855a8e350f4e7ba8a6b322c0abd4ca4aad24691",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b19ffab6_014ca889",
        "filename": "headers/private/kernel/arch/riscv64/arch_kernel_args.h",
        "patchSetId": 1
      },
      "lineNbr": 27,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2021-08-17T23:35:16Z",
      "side": 0,
      "message": "Given the other change, particularly the kSupportedUarts array, the enum no longer has a purpose.",
      "parentUuid": "639b3cb3_9f90f3ff",
      "revId": "5855a8e350f4e7ba8a6b322c0abd4ca4aad24691",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7c4bab37_29d3c7a1",
        "filename": "headers/private/kernel/arch/riscv64/arch_kernel_args.h",
        "patchSetId": 1
      },
      "lineNbr": 27,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2021-08-18T00:15:36Z",
      "side": 0,
      "message": "Yeah.  My biggest reasoning is long-term compatibility.  If we add more uarts, then remove them. There\u0027s no guarantee that kUartKindPl011 will always be \"3\" between the bootloader and kernel.   We have to be careful that kernel_args are written in a way which makes sense over time.\n\nAlso keep in mind, this same uart logic will apply across multiple architectures (arm, arm64, riscv6) increasing the risk that something gets \"misaligned\".",
      "parentUuid": "b19ffab6_014ca889",
      "revId": "5855a8e350f4e7ba8a6b322c0abd4ca4aad24691",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a23abb7e_d1b733f2",
        "filename": "headers/private/kernel/arch/riscv64/arch_kernel_args.h",
        "patchSetId": 1
      },
      "lineNbr": 27,
      "author": {
        "id": 1000172
      },
      "writtenOn": "2021-08-18T01:02:30Z",
      "side": 0,
      "message": "This can be converted to #define UART_KIND_SIFIVE \"sifive\" to avoid ordinal misalignment.",
      "parentUuid": "7c4bab37_29d3c7a1",
      "revId": "5855a8e350f4e7ba8a6b322c0abd4ca4aad24691",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1600c5cb_6e718cb9",
        "filename": "headers/private/kernel/arch/riscv64/arch_kernel_args.h",
        "patchSetId": 1
      },
      "lineNbr": 27,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2021-08-19T02:36:05Z",
      "side": 0,
      "message": "done.  put into headers for each mini uart driver.",
      "parentUuid": "a23abb7e_d1b733f2",
      "revId": "5855a8e350f4e7ba8a6b322c0abd4ca4aad24691",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "57dd888a_7f4636ea",
        "filename": "src/system/boot/platform/efi/dtb.cpp",
        "patchSetId": 1
      },
      "lineNbr": 457,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2021-08-17T18:27:26Z",
      "side": 0,
      "message": "Hm. I don\u0027t handle the undefined/none case well here.",
      "revId": "5855a8e350f4e7ba8a6b322c0abd4ca4aad24691",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "af10d119_99258b83",
        "filename": "src/system/boot/platform/efi/dtb.cpp",
        "patchSetId": 1
      },
      "lineNbr": 457,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2021-08-19T14:32:46Z",
      "side": 0,
      "message": "it\u0027ll just be blank.  which actually should be good enough since nothing will match it later on.",
      "parentUuid": "57dd888a_7f4636ea",
      "revId": "5855a8e350f4e7ba8a6b322c0abd4ca4aad24691",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c1ac450d_fae60bb4",
        "filename": "src/system/kernel/arch/riscv64/arch_debug_console.cpp",
        "patchSetId": 1
      },
      "lineNbr": 106,
      "author": {
        "id": 1000172
      },
      "writtenOn": "2021-08-17T23:04:13Z",
      "side": 0,
      "message": "This code can be moved in separate common function and be shared between RISC-V, ARM and PPC. It can be used like old UART from FDT function.",
      "revId": "5855a8e350f4e7ba8a6b322c0abd4ca4aad24691",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4ce6866a_985bc60e",
        "filename": "src/system/kernel/arch/riscv64/arch_debug_console.cpp",
        "patchSetId": 1
      },
      "lineNbr": 106,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2021-08-18T00:15:36Z",
      "side": 0,
      "message": "Good eye!   yeah, I had the same thought. (see my comment above)\n\nThe it\u0027s a bit weird to share code here since the uart is \"efi all architectures\" while the kernel is \"per-arch uart\"",
      "parentUuid": "c1ac450d_fae60bb4",
      "revId": "5855a8e350f4e7ba8a6b322c0abd4ca4aad24691",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cf2588f5_6a6f2c4c",
        "filename": "src/system/kernel/arch/riscv64/arch_debug_console.cpp",
        "patchSetId": 1
      },
      "lineNbr": 106,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2021-08-19T14:32:46Z",
      "side": 0,
      "message": "I think some of this logic could be moved to some new higher level kernel \"src/system/kernel/boot_uart.cpp\",  but I\u0027d argue that is a good candidate for a separate change since a lot is already happening in this one.",
      "parentUuid": "4ce6866a_985bc60e",
      "revId": "5855a8e350f4e7ba8a6b322c0abd4ca4aad24691",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "61d14870_2b459782",
        "filename": "src/system/kernel/arch/riscv64/arch_debug_console.cpp",
        "patchSetId": 1
      },
      "lineNbr": 106,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2021-08-20T03:02:47Z",
      "side": 0,
      "message": "Done",
      "parentUuid": "cf2588f5_6a6f2c4c",
      "revId": "5855a8e350f4e7ba8a6b322c0abd4ca4aad24691",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5",
      "unresolved": false
    }
  ]
}