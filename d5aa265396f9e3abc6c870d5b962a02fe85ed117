{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "843ed732_b63536e6",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1000013
      },
      "writtenOn": "2022-07-25T05:36:03Z",
      "side": 1,
      "message": "I like this idea.",
      "revId": "d5aa265396f9e3abc6c870d5b962a02fe85ed117",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "868fee52_1aa17e15",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2022-08-03T04:21:20Z",
      "side": 1,
      "message": "The only issues I have with this, compared to my patch, is that there\u0027s now an inconsistency in naming. The name in Tracker is different to the name of the mount point, and has no volume name in DriveSetup.\n\nPerhaps it would be better if this is a generic function for filesystem implementations to use, so that naming is consistent system-wide.",
      "revId": "d5aa265396f9e3abc6c870d5b962a02fe85ed117",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7bec3070_d357ccfd",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1000001
      },
      "writtenOn": "2022-08-03T12:25:53Z",
      "side": 1,
      "message": "Does Tracker and DriveSetup not use fs_stat_dev? I expected that setting the name at this level would be enough for all userspace to get it.\n\nDo they call the syscall directly, or what do they do?",
      "parentUuid": "868fee52_1aa17e15",
      "revId": "d5aa265396f9e3abc6c870d5b962a02fe85ed117",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f99b2ec5_f7986081",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2022-08-03T23:50:14Z",
      "side": 1,
      "message": "They get it from BPartition instances, with things like ContentName() from the storage kit. Which I think use ioctls underneath, like B_GET_PARTITION_INFO.",
      "parentUuid": "7bec3070_d357ccfd",
      "revId": "d5aa265396f9e3abc6c870d5b962a02fe85ed117",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bc6c5ddc_af99def5",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2022-08-03T23:59:34Z",
      "side": 1,
      "message": "A generic place to put it then, would probably reside here: https://github.com/haiku/haiku/blob/master/src/system/kernel/device_manager/devfs.cpp#L1552, although that might not eliminate the need for the libroot patch?",
      "parentUuid": "f99b2ec5_f7986081",
      "revId": "d5aa265396f9e3abc6c870d5b962a02fe85ed117",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bb6fa2bd_0d283d41",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1000001
      },
      "writtenOn": "2022-09-11T07:34:11Z",
      "side": 1,
      "message": "I don\u0027t find any reference to B_GET_PARTITION_INFO in Tracker or DriveSetup or even libroot. Only in \"driveinfo\" and bfs_tools (command line applications).\n\nAlso, the partition_info struct returned has no name, just a device path.\n\nBut there is indeed another path to get that info, that is src/kits/storage/disk_device/DiskDevice.cpp calling _kern_get_disk_device_data to enumerate partitions. This structure also includes the volume name.\n\nI added a similar patch there but I had to make some changes to the ABI (it\u0027s private API so it should be fine). I submitted it as a separate patch.",
      "parentUuid": "bc6c5ddc_af99def5",
      "revId": "d5aa265396f9e3abc6c870d5b962a02fe85ed117",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    }
  ]
}