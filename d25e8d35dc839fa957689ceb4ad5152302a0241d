{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "a30cd366_cac74490",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1000001
      },
      "writtenOn": "2024-03-29T10:52:12Z",
      "side": 1,
      "message": "Is there a reason to allow apps to use non-default values here?\n\nThe risk is that a developer will force their own local preferences, and then the settings from the user locale are ignored.",
      "revId": "d25e8d35dc839fa957689ceb4ad5152302a0241d",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d2f70652_d3a48515",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1000509
      },
      "writtenOn": "2024-03-29T12:14:45Z",
      "side": 1,
      "message": "First I thought I’d add a global setting that toggles the setting. I still think about it. But most of all, I think this should be exposed to the developers; it is part of the API, and also there are cases that separated formatting looks weird. For instance, in the PID section of Slayer, a raw, non-separated value looks more familiar, while giving us automatic digit conversion for languages like Arabic.\n\nDo you have any idea how to solve this for integers? Looks like there is no API available.",
      "parentUuid": "a30cd366_cac74490",
      "revId": "d25e8d35dc839fa957689ceb4ad5152302a0241d",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e96a4c59_1e3dd0f2",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1000001
      },
      "writtenOn": "2024-04-01T08:06:23Z",
      "side": 1,
      "message": "setGroupingUsed is available (and you already used it), and that seems like a valid use for it.\n\nBut I\u0027m still not sure changing the group size is useful.\n\nThe formatter is most likely a DecimalFormat like the one for floating point, and can be configured in the same way (dynamic_cast to DecimalFormat). I don\u0027t think there are any locales not using some kind of decimal digits (roman numerals? spelling out the value as \"one thousand and thirty-six\"? both of these would probably use a RuleBasedNumberFormat). You have already added the NULL pointer checks needed to handle that case.",
      "parentUuid": "d2f70652_d3a48515",
      "revId": "d25e8d35dc839fa957689ceb4ad5152302a0241d",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cdc8a361_461b27d0",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1000509
      },
      "writtenOn": "2024-04-03T19:19:50Z",
      "side": 1,
      "message": "Thanks for the tip, now working correctly for both float and integer values.\n\nThere are some Indian languages that use 2 digit grouping as far as I know, maybe there are more. In any case, I think it would be handy to have it around.",
      "parentUuid": "e96a4c59_1e3dd0f2",
      "revId": "d25e8d35dc839fa957689ceb4ad5152302a0241d",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "746afb8b_6f8eab60",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1000509
      },
      "writtenOn": "2024-04-03T19:30:57Z",
      "side": 1,
      "message": "I forgot to update SetGroupingSize. Will do it tomorrow.",
      "parentUuid": "cdc8a361_461b27d0",
      "revId": "d25e8d35dc839fa957689ceb4ad5152302a0241d",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1edfb8c9_03b07154",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1000509
      },
      "writtenOn": "2024-04-03T22:19:17Z",
      "side": 1,
      "message": "Still cannot modify integer group size.",
      "parentUuid": "746afb8b_6f8eab60",
      "revId": "d25e8d35dc839fa957689ceb4ad5152302a0241d",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "83c322f5_2a35c347",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1000012
      },
      "writtenOn": "2024-04-06T08:16:46Z",
      "side": 1,
      "message": "To echo PulkoMandy\u0027s initial question... What is the use case for changing the grouping size? I am personally not familiar with any locales that do not separate per 3 digits, but if there are, it might be by itself a localized setting? I cannot think of a case where I would use the number formatter to group per 2 or 4 digits...\n\nIf this API is not going to be used, then it should not be there.",
      "parentUuid": "1edfb8c9_03b07154",
      "revId": "d25e8d35dc839fa957689ceb4ad5152302a0241d",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "866070d0_e12af4e0",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1000509
      },
      "writtenOn": "2024-04-07T21:46:42Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "83c322f5_2a35c347",
      "revId": "d25e8d35dc839fa957689ceb4ad5152302a0241d",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6a1c49f5_c6f18aee",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1000390
      },
      "writtenOn": "2024-04-09T09:01:48Z",
      "side": 1,
      "message": "Japanese seperates by 4 digits, Basically thinking of numbers as multiples of tenthousamds (called ‘man‘).\n\nWikipedia also claims chinese does this too.",
      "parentUuid": "866070d0_e12af4e0",
      "revId": "d25e8d35dc839fa957689ceb4ad5152302a0241d",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "30beaff1_65ea212a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1000023
      },
      "writtenOn": "2024-04-09T09:17:11Z",
      "side": 1,
      "message": "The question stands: Is there a reason to allow apps to use non-default locale values here?",
      "parentUuid": "6a1c49f5_c6f18aee",
      "revId": "d25e8d35dc839fa957689ceb4ad5152302a0241d",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6d97addb_f9698df0",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1000509
      },
      "writtenOn": "2024-04-09T09:35:24Z",
      "side": 1,
      "message": "I think it has merit for context and accessibility situations. For instance, while I was testing Slayer, the ID column looked really weird with a separator, it just doesn’t seem right to display that raw value formatted with separators.\n\nAs another option, we could just make this a global setting for accessibility reasons, not expose it to app developers, and let the user decide how to display their numbers. I think it’s a valid accessibility case. macOS has this as an accessibility option, but still exposes it to the app developers for individual tuning.\n\nmacOS also exposes all ICU functions to the developers but that’s another discussion. I see the merit of not giving the developer to decide the grouping size though, could go wrong easily.",
      "parentUuid": "30beaff1_65ea212a",
      "revId": "d25e8d35dc839fa957689ceb4ad5152302a0241d",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "90a74809_4e3991d9",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1000015
      },
      "writtenOn": "2024-04-09T12:27:29Z",
      "side": 1,
      "message": "FWIW, Japanese does groupings of 4, but only when writing the numbers the old way using kanji. When using western numerals, they generally use western-style 3 digit groupings, so this isn\u0027t really a use case here.",
      "parentUuid": "6d97addb_f9698df0",
      "revId": "d25e8d35dc839fa957689ceb4ad5152302a0241d",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bf4f1b24_d0dd99f2",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1000011
      },
      "writtenOn": "2024-04-11T18:41:49Z",
      "side": 1,
      "message": "If separators aren\u0027t going to be used at all, then why would BNumberFormat be used in the first place?\n\nI also think this doesn\u0027t make a lot of sense to expose, then.",
      "parentUuid": "90a74809_4e3991d9",
      "revId": "d25e8d35dc839fa957689ceb4ad5152302a0241d",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "18e4f384_0da36db9",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1000509
      },
      "writtenOn": "2024-04-11T22:27:14Z",
      "side": 1,
      "message": "Thousand separators is used by default.\n\nI am starting to get a bit annoyed though, this is something that is available on all major toolkits and here we are all being smart on ourselves about whether application developers would need this or not.",
      "parentUuid": "bf4f1b24_d0dd99f2",
      "revId": "d25e8d35dc839fa957689ceb4ad5152302a0241d",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4875be01_47780341",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1000509
      },
      "writtenOn": "2024-04-11T22:31:20Z",
      "side": 1,
      "message": "And we need to use BNumberFormat on all UI-exposed numbers if it\u0027s not an exceptional case, since not everyone uses Arabic numerals...",
      "parentUuid": "18e4f384_0da36db9",
      "revId": "d25e8d35dc839fa957689ceb4ad5152302a0241d",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "39896e28_d2b5feb9",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1000509
      },
      "writtenOn": "2024-04-11T22:37:33Z",
      "side": 1,
      "message": "For instance, this is what Apple offers: https://developer.apple.com/documentation/foundation/numberformatter\n\nWe are missing a lot from this list.",
      "parentUuid": "4875be01_47780341",
      "revId": "d25e8d35dc839fa957689ceb4ad5152302a0241d",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "42d69cc0_e8e02d24",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1000390
      },
      "writtenOn": "2024-04-12T08:04:33Z",
      "side": 1,
      "message": "\u003e I am starting to get a bit annoyed though, this is something that is available on all major toolkits and here we are all being smart on ourselves about whether application developers would need this or not.\n\nIt is available in other toolkits is no reason to try and force it into Haiku.",
      "parentUuid": "39896e28_d2b5feb9",
      "revId": "d25e8d35dc839fa957689ceb4ad5152302a0241d",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b12d9b71_77fe2367",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1000509
      },
      "writtenOn": "2024-04-12T12:08:07Z",
      "side": 1,
      "message": "It’s alright, I’m not gonna try and explain how it could be needed, you can have your power trip moment.\n\nFor the sane developers out there, I’ll just stop contributing code until the project resolves this malicious behaviour problem.",
      "parentUuid": "42d69cc0_e8e02d24",
      "revId": "d25e8d35dc839fa957689ceb4ad5152302a0241d",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "acbddbb3_240d174f",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1000015
      },
      "writtenOn": "2024-04-12T12:23:45Z",
      "side": 1,
      "message": "You\u0027re really not helping yourself by being so adversarial if anybody dares disagree with you. Other OSes have a *lot* of things nobody needs and is often outright harmful to still have present, but must be preserved for backwards compatibility reasons, that doesn\u0027t mean we need to copy them.",
      "parentUuid": "b12d9b71_77fe2367",
      "revId": "d25e8d35dc839fa957689ceb4ad5152302a0241d",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "32528ddd_b6c4f474",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1000001
      },
      "writtenOn": "2024-05-03T12:45:26Z",
      "side": 1,
      "message": "Yes, there are languages that uses grouping by other than thousands.\n\nThe way I expect this to be handled is:\n\n- You select a locale in locale preferences\n- The correct settings are loaded for that locales\n- Numbers are rendered correctly, with the right grouping for the locale\n- If you need a different locale (maybe you want to display traditional japanese numbers in your app), you can get the number format from the corresponding BLocale object\n\nThere is no need for an API for applications to manually control that, and it was removed following my comments.\n\nThere is indeed a need for formatting numbers without any separators, and that is what this changeset does now. So I don\u0027t understand why this comment thread was re-opened, and I understand whi Emir is a bit annoyed by it.",
      "parentUuid": "acbddbb3_240d174f",
      "revId": "d25e8d35dc839fa957689ceb4ad5152302a0241d",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1e6b5b9f_dc924f28",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1000390
      },
      "writtenOn": "2024-05-09T20:10:17Z",
      "side": 1,
      "message": "\u003e Numbers are rendered correctly, with the right grouping for the locale\n\nI still don\u0027t see how turning it off is ever valid. Either you follow the locale, and they are grouped. or they are not.\n\nNumber grouping is only usefull for readability, and if it is to be turned off this should be an option in locale settings, not in the api for applications.\n\nPart of localization is making sure numbers look correct to people of different localities and it doesn\u0027t make sense to say \"but it looks wierd to me\". especially if you don\u0027t know how the number might be rendered in a different locale (the example here why it would need locale support in the first place was non-arabic numerals. Though I don\u0027t know any language that uses those that is currently supported by Haiku)",
      "parentUuid": "32528ddd_b6c4f474",
      "revId": "d25e8d35dc839fa957689ceb4ad5152302a0241d",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    }
  ]
}