{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "ee2cbeaa_e0505909",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1000011
      },
      "writtenOn": "2022-09-09T18:55:21Z",
      "side": 1,
      "message": "I think we should create a DirentsBuffer class, or something like it (name suggestions? DirectoryEntitiesBuffer?) to handle building variable-sized dirents in a fixed-size buffer and simplify the code both here and in all other filesystems. That should handle axeld\u0027s concerns and also make this code much better.\n\nThe API should probably be something like:\nDirectoryEntitiesBuffer dirents(buffer, size);\ndirents.Get(name_size) returns either dirent* or NULL if there is insufficient space left\ndirents.Next() advances.",
      "revId": "553aa9659c6013334f8e01f00a7301a8c9d89f61",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    }
  ]
}