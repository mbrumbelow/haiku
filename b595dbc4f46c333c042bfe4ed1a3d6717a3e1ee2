{
  "comments": [
    {
      "key": {
        "uuid": "95cceb9d_ad4c16e7",
        "filename": "src/add-ons/kernel/drivers/disk/mmc/mmc_disk.cpp",
        "patchSetId": 1
      },
      "lineNbr": 59,
      "author": {
        "id": 1000024
      },
      "writtenOn": "2020-12-30T15:17:55Z",
      "side": 1,
      "message": "blank line",
      "revId": "b595dbc4f46c333c042bfe4ed1a3d6717a3e1ee2",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f72186cc_f8cba8bd",
        "filename": "src/add-ons/kernel/drivers/disk/mmc/mmc_disk.cpp",
        "patchSetId": 1
      },
      "lineNbr": 59,
      "author": {
        "id": 1000001
      },
      "writtenOn": "2021-01-04T20:59:36Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "95cceb9d_ad4c16e7",
      "revId": "b595dbc4f46c333c042bfe4ed1a3d6717a3e1ee2",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4c73aead_ec4b22d9",
        "filename": "src/add-ons/kernel/drivers/disk/mmc/mmc_disk.cpp",
        "patchSetId": 1
      },
      "lineNbr": 133,
      "author": {
        "id": 1000024
      },
      "writtenOn": "2020-12-30T15:17:55Z",
      "side": 1,
      "message": "Just a suggestion: Instead of storing the deviceType, you could store a bitfield, where each bit describes how the code should behave. I think it would be a small performance improvement, and it would also make the code more readable.\n\nLine 172 would become more like this:\n\nuint8 deviceType;\nif (sDeviceManager-\u003eget_attr_uint8(info-\u003eparent, kMmcTypeAttribute,\n\t\u0026deviceType, true) !\u003d B_OK) {\n\t\tERROR(\"Could not get device type\\n\");\n\t\tfree(info);\n\t\treturn B_BAD_DATA;\n}\nif (deviceType !\u003d CARD_TYPE_SD \u0026\u0026 deviceType !\u003d CARD_TYPE_MMC) {\n\tinfo-\u003edeviceFlags |\u003d MMC_OFFSET_AS_SECTORS; // maybe find a better name\n}\n\n... and then the above line would be more like:\n\nerror \u003d info-\u003emmc-\u003edo_io(info-\u003eparent, info-\u003erca, command, operation,\n\t(info-\u003edeviceFlags \u0026 MMC_OFFSET_AS_SECTORS) !\u003d 0);\n\nThen just looking at this line in isolation, it becomes clear what the meaning of the boolean is that is passed to do_io().",
      "revId": "b595dbc4f46c333c042bfe4ed1a3d6717a3e1ee2",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "70175f79_89af5589",
        "filename": "src/add-ons/kernel/drivers/disk/mmc/mmc_disk.cpp",
        "patchSetId": 1
      },
      "lineNbr": 133,
      "author": {
        "id": 1000001
      },
      "writtenOn": "2021-01-04T20:59:36Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "4c73aead_ec4b22d9",
      "revId": "b595dbc4f46c333c042bfe4ed1a3d6717a3e1ee2",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "50d05e87_863dfa09",
        "filename": "src/add-ons/kernel/drivers/disk/mmc/mmc_disk.cpp",
        "patchSetId": 1
      },
      "lineNbr": 174,
      "author": {
        "id": 1000024
      },
      "writtenOn": "2020-12-30T15:17:55Z",
      "side": 1,
      "message": "opening bracket should go onto previous line",
      "revId": "b595dbc4f46c333c042bfe4ed1a3d6717a3e1ee2",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1bf8a0ab_b1e58a15",
        "filename": "src/add-ons/kernel/drivers/disk/mmc/mmc_disk.cpp",
        "patchSetId": 1
      },
      "lineNbr": 174,
      "author": {
        "id": 1000001
      },
      "writtenOn": "2021-01-04T20:59:36Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "50d05e87_863dfa09",
      "revId": "b595dbc4f46c333c042bfe4ed1a3d6717a3e1ee2",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5",
      "unresolved": false
    }
  ]
}