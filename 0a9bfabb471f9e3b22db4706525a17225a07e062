{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "8edeffd5_5037bac7",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 7
      },
      "lineNbr": 0,
      "author": {
        "id": 1000223
      },
      "writtenOn": "2023-03-21T16:16:51Z",
      "side": 1,
      "message": "I\u0027m afraid that if you change the meaning of fPercent you have to review all its uses.",
      "revId": "0a9bfabb471f9e3b22db4706525a17225a07e062",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c9c98172_f10c0709",
        "filename": "src/apps/powerstatus/PowerStatusView.cpp",
        "patchSetId": 7
      },
      "lineNbr": 201,
      "author": {
        "id": 1000223
      },
      "writtenOn": "2023-03-21T16:16:51Z",
      "side": 1,
      "message": "Another assignment to an integer that is supposed to work in 0..100 range.",
      "revId": "0a9bfabb471f9e3b22db4706525a17225a07e062",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "83c088be_566f85d5",
        "filename": "src/apps/powerstatus/PowerStatusView.cpp",
        "patchSetId": 7
      },
      "lineNbr": 201,
      "author": {
        "id": 1000509
      },
      "writtenOn": "2023-03-21T21:44:41Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "c9c98172_f10c0709",
      "revId": "0a9bfabb471f9e3b22db4706525a17225a07e062",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fc3adbe7_5d299f42",
        "filename": "src/apps/powerstatus/PowerStatusView.cpp",
        "patchSetId": 7
      },
      "lineNbr": 201,
      "author": {
        "id": 1000223
      },
      "writtenOn": "2023-03-22T15:33:25Z",
      "side": 1,
      "message": "Not done. Casting doesn\u0027t magically change values. Say you have a half drained battery: fPercent is 0.5 and casting that to int32 you put 0 in percent. Is that what you want?",
      "parentUuid": "83c088be_566f85d5",
      "revId": "0a9bfabb471f9e3b22db4706525a17225a07e062",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ce4c1908_db86d7c6",
        "filename": "src/apps/powerstatus/PowerStatusView.cpp",
        "patchSetId": 7
      },
      "lineNbr": 401,
      "author": {
        "id": 1000223
      },
      "writtenOn": "2023-03-21T16:16:51Z",
      "side": 1,
      "message": "The battery info fields being integers you have integer division here, leading to fPercent always being 0. You have to cast one of the operands.",
      "revId": "0a9bfabb471f9e3b22db4706525a17225a07e062",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ffa1b386_bf399f4f",
        "filename": "src/apps/powerstatus/PowerStatusView.cpp",
        "patchSetId": 7
      },
      "lineNbr": 401,
      "author": {
        "id": 1000509
      },
      "writtenOn": "2023-03-21T21:44:41Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ce4c1908_db86d7c6",
      "revId": "0a9bfabb471f9e3b22db4706525a17225a07e062",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d9aa17b7_a3254262",
        "filename": "src/apps/powerstatus/PowerStatusView.cpp",
        "patchSetId": 7
      },
      "lineNbr": 494,
      "author": {
        "id": 1000223
      },
      "writtenOn": "2023-03-21T16:16:51Z",
      "side": 1,
      "message": "Notice that here both previousPercent and fPercent now go 0..1 while kLowBatteryPercentage goes 0..100.",
      "revId": "0a9bfabb471f9e3b22db4706525a17225a07e062",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d026388f_5d6a9da3",
        "filename": "src/apps/powerstatus/PowerStatusView.cpp",
        "patchSetId": 7
      },
      "lineNbr": 494,
      "author": {
        "id": 1000509
      },
      "writtenOn": "2023-03-21T18:59:18Z",
      "side": 1,
      "message": "So change it to double and 0.15 respectively? I think I\u0027ll have to modify kNoteBatteryPercentage to double as well, because int32 percent above will be changed, and remove a few / 100.0\u0027s as well. This is turning into a big refactor. :))",
      "parentUuid": "d9aa17b7_a3254262",
      "revId": "0a9bfabb471f9e3b22db4706525a17225a07e062",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6fd1f17b_3cd4e7e2",
        "filename": "src/apps/powerstatus/PowerStatusView.cpp",
        "patchSetId": 7
      },
      "lineNbr": 494,
      "author": {
        "id": 1000223
      },
      "writtenOn": "2023-03-21T21:29:48Z",
      "side": 1,
      "message": "That\u0027s one possibility, yes, if as you say, you track those and see how they affect other places. Another one is to multiply by 100 and not touch the constant, as in `(previousPercent * 100.0) \u003e kLowBatteryPercent`...\n\n\n\u003e This is turning into a big refactor.\n\nMaybe at first it looked like a small simplification but the details have made it unworthy. We could go back to the original idea of just the formatting change if Jérôme doesn\u0027t mind.",
      "parentUuid": "d026388f_5d6a9da3",
      "revId": "0a9bfabb471f9e3b22db4706525a17225a07e062",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "33b6e743_58c51a28",
        "filename": "src/apps/powerstatus/PowerStatusView.cpp",
        "patchSetId": 7
      },
      "lineNbr": 494,
      "author": {
        "id": 1000509
      },
      "writtenOn": "2023-03-21T21:44:41Z",
      "side": 1,
      "message": "Done.",
      "parentUuid": "6fd1f17b_3cd4e7e2",
      "revId": "0a9bfabb471f9e3b22db4706525a17225a07e062",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b27aacae_4de94b1a",
        "filename": "src/apps/powerstatus/PowerStatusView.cpp",
        "patchSetId": 7
      },
      "lineNbr": 494,
      "author": {
        "id": 1000023
      },
      "writtenOn": "2023-03-22T20:37:42Z",
      "side": 1,
      "message": "I don\u0027t mind. BNumberFormat should get the int32 FormatPercent and FormatMonetary variants, would make things much easier.",
      "parentUuid": "33b6e743_58c51a28",
      "revId": "0a9bfabb471f9e3b22db4706525a17225a07e062",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    }
  ]
}