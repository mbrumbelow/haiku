{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "c6871bce_6377fb3c",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 7
      },
      "lineNbr": 0,
      "author": {
        "id": 1000021
      },
      "writtenOn": "2022-08-22T20:15:33Z",
      "side": 1,
      "message": "Thinking that maybe we should try get the acpi module and if we fail do fallback. Instead of using preprocessor. \nAs ACPI and PCI is a bit entangled it might be hard?\n\nThoughts?",
      "revId": "5933c14c136d01f93f6bd53ef67ad0f87bc0f881",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b7f479a8_bdf597d1",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 7
      },
      "lineNbr": 0,
      "author": {
        "id": 1000172
      },
      "writtenOn": "2022-09-04T18:15:12Z",
      "side": 1,
      "message": "Do ACPI module really need PCI bus for initial setup? Isn\u0027t registers defined in ACPI enough?",
      "revId": "5933c14c136d01f93f6bd53ef67ad0f87bc0f881",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8aadd1b2_33ce279f",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 7
      },
      "lineNbr": 0,
      "author": {
        "id": 1000021
      },
      "writtenOn": "2022-09-04T19:24:04Z",
      "side": 1,
      "message": "It has several steps during init, but for the final setup I think it does. You can read more in ACPICA docs: https://acpica.org/sites/acpica/files/acpica-reference_19.pdf",
      "parentUuid": "b7f479a8_bdf597d1",
      "revId": "5933c14c136d01f93f6bd53ef67ad0f87bc0f881",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c2e5e3ea_7d034e08",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 7
      },
      "lineNbr": 0,
      "author": {
        "id": 1000172
      },
      "writtenOn": "2022-09-04T19:51:20Z",
      "side": 1,
      "message": "In theory ACPI bus may have no any PCI host bus controllers (on ARM64 for example). What is the problem with treating PCI host controller in the same way as in FDT?",
      "revId": "5933c14c136d01f93f6bd53ef67ad0f87bc0f881",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fca69784_d0332cbf",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 7
      },
      "lineNbr": 0,
      "author": {
        "id": 1000021
      },
      "writtenOn": "2022-09-04T20:10:26Z",
      "side": 1,
      "message": "That is the new reduced hardware ACPI I guess, never had a reason to look at that before. On x86 I guess it does use it.",
      "parentUuid": "c2e5e3ea_7d034e08",
      "revId": "5933c14c136d01f93f6bd53ef67ad0f87bc0f881",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "402a11f4_ac71100e",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 7
      },
      "lineNbr": 0,
      "author": {
        "id": 1000001
      },
      "writtenOn": "2022-09-11T08:27:08Z",
      "side": 1,
      "message": "Yes, that would be ideal but the problem is pci_root_supports_device is called first for the root of the device tree, and then for leaf nodes. So it\u0027s difficult to \"backtrack\" to the root node in case we need a fallback.\n\nThe link between ACPI and PCI is mostly solved now, there was a previous patch to do \"deferred initialization\" of one of the two.",
      "parentUuid": "c6871bce_6377fb3c",
      "revId": "5933c14c136d01f93f6bd53ef67ad0f87bc0f881",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6bd8eac3_583d8f0a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 7
      },
      "lineNbr": 0,
      "author": {
        "id": 1000001
      },
      "writtenOn": "2022-09-11T08:27:08Z",
      "side": 1,
      "message": "ACPICA has some macros to access the PCI bus that we implement. I would prefer to not make any assumptions about when and how they are used, as that may change with future ACPICA versions.\n\nBut that isn\u0027t really a problem, the code in ACPI and PCI already works fine. The only question left is how to attach the PCI root to the root of the device tree if we find no ACPI node and want to use the fallback mode. This is really just a matter of getting the \"_supports_device\" API to do what we want, there aren\u0027t really any problems between PCI and ACPI to solve here.",
      "parentUuid": "8aadd1b2_33ce279f",
      "revId": "5933c14c136d01f93f6bd53ef67ad0f87bc0f881",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    }
  ]
}