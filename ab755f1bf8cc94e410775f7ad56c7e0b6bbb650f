{
  "comments": [
    {
      "key": {
        "uuid": "68d3baf7_81570fb9",
        "filename": "src/kits/storage/SymLink.cpp",
        "patchSetId": 4
      },
      "lineNbr": 102,
      "author": {
        "id": 1000001
      },
      "writtenOn": "2020-04-22T06:38:34Z",
      "side": 1,
      "message": "Why is the temporary buffer needed? Didn\u0027t _kern_read_link already do the correct thing here?",
      "revId": "ab755f1bf8cc94e410775f7ad56c7e0b6bbb650f",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1c7f5f91_c5654f88",
        "filename": "src/kits/storage/SymLink.cpp",
        "patchSetId": 4
      },
      "lineNbr": 102,
      "author": {
        "id": 1000162
      },
      "writtenOn": "2020-04-25T00:09:56Z",
      "side": 1,
      "message": "Yeah _kern_read_link doesn\u0027t do the correct thing here.\n\nTo make this work without the extra buffer we\u0027d need to change bfs_read_link(), which currently does this.\n\n    if (linkLen \u003c *_bufferSize)\n    \t*_bufferSize \u003d linkLen;\n\nIf I change it to something like this:\nhttps://github.com/ambroff/haiku/commit/0a0c538ff59e383ab36047614a675604a9405c69\n\nThen of course BsymLink::ReadLink will work without the extra buffer. But I\u0027ll need to check to see what else will break with that change cause I\u0027m sure it will be something.\n\nI haven\u0027t had time to look at this all week but I\u0027ll figure it out this weekend.",
      "parentUuid": "68d3baf7_81570fb9",
      "revId": "ab755f1bf8cc94e410775f7ad56c7e0b6bbb650f",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "25402dc8_5f70737b",
        "filename": "src/kits/storage/SymLink.cpp",
        "patchSetId": 4
      },
      "lineNbr": 102,
      "author": {
        "id": 1000162
      },
      "writtenOn": "2020-04-25T05:25:09Z",
      "side": 1,
      "message": "I pushed a WIP patch which fixes this in bfs, which required fixing readlinkat() in libroot.\n\nI need to test this a little more but I\u0027m out of time for today. Also it looks like every filesystem needs its read_link function updated since they either emulate the posix behavior or are maybe a little broken.",
      "parentUuid": "1c7f5f91_c5654f88",
      "revId": "ab755f1bf8cc94e410775f7ad56c7e0b6bbb650f",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d88753c8_9140c908",
        "filename": "src/kits/storage/SymLink.cpp",
        "patchSetId": 4
      },
      "lineNbr": 102,
      "author": {
        "id": 1000162
      },
      "writtenOn": "2020-04-25T19:11:52Z",
      "side": 1,
      "message": "I\u0027ve updated the patch again with fixes for several filesystems. I haven\u0027t tested all of the changes yet.\n\nStill a WIP because nfs4 and packagefs are still not right.\n\nThe ntfs add-on seemed to be the only one that was correct from the start.",
      "parentUuid": "25402dc8_5f70737b",
      "revId": "ab755f1bf8cc94e410775f7ad56c7e0b6bbb650f",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6519dffe_6dad2e61",
        "filename": "src/kits/storage/SymLink.cpp",
        "patchSetId": 4
      },
      "lineNbr": 102,
      "author": {
        "id": 1000162
      },
      "writtenOn": "2020-04-26T06:53:58Z",
      "side": 1,
      "message": "I think every filesystem is updated except for reiserfs. That should be the only one left.",
      "parentUuid": "d88753c8_9140c908",
      "revId": "ab755f1bf8cc94e410775f7ad56c7e0b6bbb650f",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5c65af89_e31f3233",
        "filename": "src/kits/storage/SymLink.cpp",
        "patchSetId": 4
      },
      "lineNbr": 102,
      "author": {
        "id": 1000162
      },
      "writtenOn": "2020-04-26T23:19:21Z",
      "side": 1,
      "message": "Updated reiserfs. ramfs also needs updating.",
      "parentUuid": "6519dffe_6dad2e61",
      "revId": "ab755f1bf8cc94e410775f7ad56c7e0b6bbb650f",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "708f9943_ddb109a4",
        "filename": "src/kits/storage/SymLink.cpp",
        "patchSetId": 4
      },
      "lineNbr": 102,
      "author": {
        "id": 1000162
      },
      "writtenOn": "2020-04-26T23:53:07Z",
      "side": 1,
      "message": "OK I\u0027ve finished all of them. Here is a summary.\n\nread_link function fixed:\n* bfs\n* btrfs\n* exfat\n* ext2\n* iso9660\n* nfs\n* packagefs\n* ramfs\n* reiserfs\n\nNo changes required:\n* bindfs\n* cdda\n* fat\n* nfs4\n* ntfs\n* udf\n* userlandfs\n\nread_link Not implemented yet so nothing to do for this patch\n* googlefs\n* netfs\n* ufs2\n* xfs",
      "parentUuid": "5c65af89_e31f3233",
      "revId": "ab755f1bf8cc94e410775f7ad56c7e0b6bbb650f",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5",
      "unresolved": false
    }
  ]
}