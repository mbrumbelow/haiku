{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "6c60fd71_8fb24ccd",
        "filename": "src/apps/webpositive/BookmarkBar.cpp",
        "patchSetId": 2
      },
      "lineNbr": 35,
      "author": {
        "id": 1000001
      },
      "writtenOn": "2022-05-21T19:13:16Z",
      "side": 0,
      "message": "the destructor needs to delete fOverflowMenu if it isn\u0027t part of the menubar at the time of destruction, oterwise it is leaked. (when it\u0027s added to the menubar, the menubar already takes care of deleting it).",
      "revId": "eb9ff8e5a795ffe1a087dd133df3502df6e5ab13",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0bf198b4_8346ff8e",
        "filename": "src/apps/webpositive/BookmarkBar.cpp",
        "patchSetId": 2
      },
      "lineNbr": 35,
      "author": {
        "id": 1000366
      },
      "writtenOn": "2022-05-21T22:14:34Z",
      "side": 0,
      "message": "Ack",
      "parentUuid": "6c60fd71_8fb24ccd",
      "revId": "eb9ff8e5a795ffe1a087dd133df3502df6e5ab13",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "01ba398d_e3f4df2c",
        "filename": "src/apps/webpositive/BookmarkBar.cpp",
        "patchSetId": 2
      },
      "lineNbr": 35,
      "author": {
        "id": 1000001
      },
      "writtenOn": "2022-05-24T17:01:43Z",
      "side": 0,
      "message": "As I said in my previous comment, the delete must be done only if fOverflowMenu is not currently part of the menu.\n\nNow you have a double delete when it is i nthe menu: the menu zill delete all the contained item, and then this destructor will delete it a second time (which is likely to crash).\n\nSo you need to remember if fOverflowMenu is currently added to the menubar or not. Probably you will need an extra boolean field in the class to keep track of this.",
      "parentUuid": "0bf198b4_8346ff8e",
      "revId": "eb9ff8e5a795ffe1a087dd133df3502df6e5ab13",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "203c19c9_6530b889",
        "filename": "src/apps/webpositive/BookmarkBar.cpp",
        "patchSetId": 2
      },
      "lineNbr": 35,
      "author": {
        "id": 1000366
      },
      "writtenOn": "2022-05-25T16:57:29Z",
      "side": 0,
      "message": "Sorry, I wrongly reasoned that double deletion would not happen in this situation.  I have now added a boolean variable as you suggested.",
      "parentUuid": "01ba398d_e3f4df2c",
      "revId": "eb9ff8e5a795ffe1a087dd133df3502df6e5ab13",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    }
  ]
}