SubDir HAIKU_TOP src libs bsd ;

SetSubDirSupportedPlatforms $(HAIKU_BONE_COMPATIBLE_PLATFORMS) ;

UseHeaders [ FDirName $(HAIKU_TOP) headers compatibility bsd ] : true ;
UsePrivateHeaders libbsd ;

SubDirCcFlags [ FDefines _BSD_SOURCE=1 ] ;
SubDirC++Flags [ FDefines _BSD_SOURCE=1 ] ;

local architectureObject ;
for architectureObject in [ MultiArchSubDirSetup ] {
	on $(architectureObject) {
		SharedLibrary [ MultiArchDefaultGristFiles libbsd.so ] :
			arc4random.c
			arc4random_uniform.c
			daemon.c
			err.c
			explicit_bzero.c
			fgetln.c
			getentropy.c
			getpass.c
			issetugid.c
			lutimes.c
			progname.c
			pty.cpp
			readpassphrase.c
			sha512c.c
			signal.c
			string.cpp
			stringlist.c
			unvis.c
			usershell.c
			vis.c
			wait.c
			;
	}
}
