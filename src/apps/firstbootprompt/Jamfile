SubDir HAIKU_TOP src apps firstbootprompt ;

UseHeaders [ FDirName $(HAIKU_COMMON_PLATFORM_OBJECT_DIR) data keymaps ] ;
UsePrivateHeaders app interface locale shared ;


local architectureObject ;
for architectureObject in [ MultiArchSubDirSetup ] {
	on $(architectureObject) {
		if x86_gcc2 in $(TARGET_PACKAGING_ARCH) {
			# Do not build with gcc2, ICU there is too old
			continue ;
		}

		Includes [ FGristFiles BootPromptWindow.cpp ] : <keymap-locale>KeymapNames.h ;
		SEARCH_SOURCE += [ FDirName $(HAIKU_TOP) src preferences keymap ] ;

		Application FirstBootPrompt :
			BootPrompt.cpp
			BootPromptWindow.cpp
			Keymap.cpp
			KeymapListItem.cpp
			: be translation shared [ TargetLibstdc++ ] localestub
			: BootPrompt.rdef
		;

		# Once we have found a compiler allowing to build it, stop the loop.
		break ;
	}
}

DoCatalogs FirstBootPrompt :
	x-vnd.Haiku-FirstBootPrompt
	:
	BootPrompt.cpp
	BootPromptWindow.cpp
;

