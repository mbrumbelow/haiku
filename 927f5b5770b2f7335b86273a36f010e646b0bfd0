{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "c7568349_37e999a7",
        "filename": "src/bin/pkgman/PackageManager.cpp",
        "patchSetId": 16
      },
      "lineNbr": 184,
      "author": {
        "id": 1000390
      },
      "writtenOn": "2024-03-17T08:18:23Z",
      "side": 1,
      "message": "I don\u0027t understand this comment. Is this based on the char declaration above?",
      "revId": "927f5b5770b2f7335b86273a36f010e646b0bfd0",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c1eb0d99_2c9183cd",
        "filename": "src/bin/pkgman/PackageManager.cpp",
        "patchSetId": 16
      },
      "lineNbr": 184,
      "author": {
        "id": 1000509
      },
      "writtenOn": "2024-03-17T10:20:43Z",
      "side": 1,
      "message": "What\u0027s not to understand? No, comments are generally for the following line.",
      "parentUuid": "c7568349_37e999a7",
      "revId": "927f5b5770b2f7335b86273a36f010e646b0bfd0",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0bba7596_25c834c8",
        "filename": "src/bin/pkgman/PackageManager.cpp",
        "patchSetId": 16
      },
      "lineNbr": 184,
      "author": {
        "id": 1000390
      },
      "writtenOn": "2024-03-17T12:47:26Z",
      "side": 1,
      "message": "The line directly below this is calling printf, which is in no way making sure that enough space is available to display the string. So no, it does not make sense.",
      "parentUuid": "c1eb0d99_2c9183cd",
      "revId": "927f5b5770b2f7335b86273a36f010e646b0bfd0",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e49f1d83_95ef2c33",
        "filename": "src/bin/pkgman/PackageManager.cpp",
        "patchSetId": 16
      },
      "lineNbr": 184,
      "author": {
        "id": 1000509
      },
      "writtenOn": "2024-03-17T14:36:44Z",
      "side": 1,
      "message": "The 5 in %5s makes sure that there is sufficient space. Otherwise the alignment with the previous output is off when the value is anything other than 100% (or 100%).",
      "parentUuid": "0bba7596_25c834c8",
      "revId": "927f5b5770b2f7335b86273a36f010e646b0bfd0",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1b5c82c4_0a501d8a",
        "filename": "src/bin/pkgman/PackageManager.cpp",
        "patchSetId": 16
      },
      "lineNbr": 184,
      "author": {
        "id": 1000001
      },
      "writtenOn": "2024-03-29T10:45:19Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "e49f1d83_95ef2c33",
      "revId": "927f5b5770b2f7335b86273a36f010e646b0bfd0",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5fbe5845_510ec115",
        "filename": "src/bin/pkgman/PackageManager.cpp",
        "patchSetId": 16
      },
      "lineNbr": 185,
      "author": {
        "id": 1000390
      },
      "writtenOn": "2024-03-17T08:18:23Z",
      "side": 1,
      "message": "Why is this not using puts?",
      "revId": "927f5b5770b2f7335b86273a36f010e646b0bfd0",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "94c99626_990bb3e3",
        "filename": "src/bin/pkgman/PackageManager.cpp",
        "patchSetId": 16
      },
      "lineNbr": 185,
      "author": {
        "id": 1000509
      },
      "writtenOn": "2024-03-17T10:20:43Z",
      "side": 1,
      "message": "Are you sure you are reviewing or just asking questions?",
      "parentUuid": "5fbe5845_510ec115",
      "revId": "927f5b5770b2f7335b86273a36f010e646b0bfd0",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "31ed9b85_979fa326",
        "filename": "src/bin/pkgman/PackageManager.cpp",
        "patchSetId": 16
      },
      "lineNbr": 185,
      "author": {
        "id": 1000390
      },
      "writtenOn": "2024-03-17T12:47:26Z",
      "side": 1,
      "message": "You asked for a review, this is the review.\n\nI can be more aggresiive if you‘d like, but civility is to be preffered in code reviews, and you as the reviewee are also expected to remain civil.",
      "parentUuid": "94c99626_990bb3e3",
      "revId": "927f5b5770b2f7335b86273a36f010e646b0bfd0",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "9f013c2e_c2a87169",
        "filename": "src/bin/pkgman/PackageManager.cpp",
        "patchSetId": 16
      },
      "lineNbr": 185,
      "author": {
        "id": 1000509
      },
      "writtenOn": "2024-03-17T14:36:44Z",
      "side": 1,
      "message": "No, this is a question. A review points out why something is not ideal, and possibly shows guidance on how to make it better. Also the reviewer should have a basic understanding of how the code works in general.\n\nIn the code you could see that puts cannot work here, since this string is displayed inline with other strings, we cannot add a new line character, which puts automatically places.\n\nWhen the reviewer does not take the time and read the code, the reviewer wastes the reviewee\u0027s time.\n\nI am being perfectly civil here, it\u0027s you automatically getting defensive on a single question. Instead of slapping open ended questions, please take your time and give a helpful review.",
      "parentUuid": "31ed9b85_979fa326",
      "revId": "927f5b5770b2f7335b86273a36f010e646b0bfd0",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "21a977e3_91235e7a",
        "filename": "src/bin/pkgman/PackageManager.cpp",
        "patchSetId": 16
      },
      "lineNbr": 185,
      "author": {
        "id": 1000390
      },
      "writtenOn": "2024-03-17T14:57:55Z",
      "side": 1,
      "message": "\u003e In the code you could see that puts cannot work here, since this string is displayed inline with other strings, we cannot add a new line character, which puts automatically places.\n\nIn which case you would use fputs instead.\n\nI don‘t understand your attitude, there is no way reviewers can take into account everything that could possibly happen in the code.\n\nAsking why you want to use a specific function and not a different one is perfectly valid, and you refusing to explain why you think a different one should be used untill asked twice does not help.",
      "parentUuid": "9f013c2e_c2a87169",
      "revId": "927f5b5770b2f7335b86273a36f010e646b0bfd0",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f5567e7b_79deb951",
        "filename": "src/bin/pkgman/PackageManager.cpp",
        "patchSetId": 16
      },
      "lineNbr": 185,
      "author": {
        "id": 1000509
      },
      "writtenOn": "2024-03-17T15:20:38Z",
      "side": 1,
      "message": "It’s not attitude, it’s not helpful trying to convince someone for a function you didn’t even put there yourself.\n\nYour reviews are always welcome (I mean it), but starting a comment cycle without proper read is not. Let’s not waste people’s time. It can be used for another code contribution instead of dwelling on an existing one.",
      "parentUuid": "21a977e3_91235e7a",
      "revId": "927f5b5770b2f7335b86273a36f010e646b0bfd0",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fc4d6ccb_f4477c26",
        "filename": "src/bin/pkgman/PackageManager.cpp",
        "patchSetId": 16
      },
      "lineNbr": 185,
      "author": {
        "id": 1000075
      },
      "writtenOn": "2024-03-17T20:22:18Z",
      "side": 1,
      "message": "Maybe some clarification is needed what the formatting does:\n\nputs would left-align the output. printf with %s right-aligns it if the string is shorter than the given length, with spaces prepended, so if the string is `\"1 %\"` it prints `\"  1 %\"` (with 2 spaces before).",
      "parentUuid": "f5567e7b_79deb951",
      "revId": "927f5b5770b2f7335b86273a36f010e646b0bfd0",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c11eb15a_8b42919e",
        "filename": "src/bin/pkgman/PackageManager.cpp",
        "patchSetId": 16
      },
      "lineNbr": 185,
      "author": {
        "id": 1000012
      },
      "writtenOn": "2024-03-27T07:48:43Z",
      "side": 1,
      "message": "In the discussion of the formatting string, I am with the patch author and Joachim\u0027s comment. I do wonder whether this is correct now; since we are now using BNumberFormat to format the percentage, and this is applying some sort of localization, is it really likely to expect a maximum of 5 characters? Are there non-Western locales that have an entirely different way of formatting percentages? And is there formatting with non-latin script?",
      "parentUuid": "fc4d6ccb_f4477c26",
      "revId": "927f5b5770b2f7335b86273a36f010e646b0bfd0",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1512622b_29aa91e0",
        "filename": "src/bin/pkgman/PackageManager.cpp",
        "patchSetId": 16
      },
      "lineNbr": 185,
      "author": {
        "id": 1000509
      },
      "writtenOn": "2024-03-27T20:36:15Z",
      "side": 1,
      "message": "The maximum number of characters used is 5, which corresponds to `100 %`. Other than that Arabic has its own percent sign, but it takes up up to 4 characters long in total (٪); there is also one full-width percent sign that is used when accompanying full-width Romaji, like: １００％, but I don\u0027t think it is widely used, never encountered it in the wild.\n\nSee this link: https://en.wikipedia.org/wiki/Percent_sign#Form_and_spacing",
      "parentUuid": "c11eb15a_8b42919e",
      "revId": "927f5b5770b2f7335b86273a36f010e646b0bfd0",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6d5d8db8_399f6b45",
        "filename": "src/bin/pkgman/PackageManager.cpp",
        "patchSetId": 16
      },
      "lineNbr": 185,
      "author": {
        "id": 1000012
      },
      "writtenOn": "2024-03-28T06:27:29Z",
      "side": 1,
      "message": "I think the issue then is that the format specifier counts bytes, and not characters (always a useful distinction to make when dealing with UTF-8). This suggests that if you want to internationalize the percentage formatting, we either have to drop the alignment, or write a custom alignment that works on characters.",
      "parentUuid": "1512622b_29aa91e0",
      "revId": "927f5b5770b2f7335b86273a36f010e646b0bfd0",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "df2afd30_4fb8a0f1",
        "filename": "src/bin/pkgman/PackageManager.cpp",
        "patchSetId": 16
      },
      "lineNbr": 185,
      "author": {
        "id": 1000509
      },
      "writtenOn": "2024-03-29T00:48:15Z",
      "side": 1,
      "message": "That all makes sense, however when I test different locales, I am not able to find any issues. Only there was a slight issue with the 5-character percents, apparently I did not account for the padding and although `1 %` and `10 %` aligned right perfectly, `100 %` shifted rightwards. Now various locales display like this:\n\n```\nTurkish:\n| %100 package-name\n|  %10 package-name\n|   %1 package-name\n\nEnglish:\n| 100% package-name\n|  10% package-name\n|   1% package-name\n\nGerman:\n|100 % package-name\n| 10 % package-name\n|  1 % package-name\n```\n\nArabic is left aligned within the allocated chars, but that\u0027s expected given the writing direction and the locale setting (No example given, since it\u0027s a PitA to put it in Haiku and see if it\u0027s placed correctly). That\u0027s indigenous to Arabic though, other RTL languages use Arabic numerals (I mean 1234567890 - the numerals that the Arabic language use are Eastern Arabic numerals).\n\nIf you still think that I should modify it, let me know. I will try to come up with something.",
      "parentUuid": "6d5d8db8_399f6b45",
      "revId": "927f5b5770b2f7335b86273a36f010e646b0bfd0",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "396908f7_ba2d4f42",
        "filename": "src/bin/pkgman/PackageManager.cpp",
        "patchSetId": 16
      },
      "lineNbr": 185,
      "author": {
        "id": 1000001
      },
      "writtenOn": "2024-03-29T10:45:19Z",
      "side": 1,
      "message": "You could have issues with locales using non-arabic numbers, which will still use only 5 columns on the display, but may need more bytes.\n\nThat being said, if this ends up being corrupt, it is more a bug in printf than in this patch.",
      "parentUuid": "df2afd30_4fb8a0f1",
      "revId": "927f5b5770b2f7335b86273a36f010e646b0bfd0",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2353dd60_189d61aa",
        "filename": "src/bin/pkgman/PackageManager.cpp",
        "patchSetId": 16
      },
      "lineNbr": 226,
      "author": {
        "id": 1000390
      },
      "writtenOn": "2024-03-17T08:18:23Z",
      "side": 1,
      "message": "Same",
      "revId": "927f5b5770b2f7335b86273a36f010e646b0bfd0",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3491b513_a3c3236e",
        "filename": "src/bin/pkgman/PackageManager.cpp",
        "patchSetId": 16
      },
      "lineNbr": 226,
      "author": {
        "id": 1000509
      },
      "writtenOn": "2024-03-17T10:20:43Z",
      "side": 1,
      "message": "See above.",
      "parentUuid": "2353dd60_189d61aa",
      "revId": "927f5b5770b2f7335b86273a36f010e646b0bfd0",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a35ed4af_e2072750",
        "filename": "src/bin/pkgman/PackageManager.cpp",
        "patchSetId": 16
      },
      "lineNbr": 226,
      "author": {
        "id": 1000001
      },
      "writtenOn": "2024-03-29T10:45:19Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "3491b513_a3c3236e",
      "revId": "927f5b5770b2f7335b86273a36f010e646b0bfd0",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0ac756c4_2ccf8810",
        "filename": "src/bin/pkgman/PackageManager.cpp",
        "patchSetId": 16
      },
      "lineNbr": 278,
      "author": {
        "id": 1000390
      },
      "writtenOn": "2024-03-17T08:18:23Z",
      "side": 1,
      "message": "same",
      "revId": "927f5b5770b2f7335b86273a36f010e646b0bfd0",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c9c252ba_1f192562",
        "filename": "src/bin/pkgman/PackageManager.cpp",
        "patchSetId": 16
      },
      "lineNbr": 278,
      "author": {
        "id": 1000509
      },
      "writtenOn": "2024-03-17T10:20:43Z",
      "side": 1,
      "message": "See above.",
      "parentUuid": "0ac756c4_2ccf8810",
      "revId": "927f5b5770b2f7335b86273a36f010e646b0bfd0",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a063c66e_e456f144",
        "filename": "src/bin/pkgman/PackageManager.cpp",
        "patchSetId": 16
      },
      "lineNbr": 278,
      "author": {
        "id": 1000001
      },
      "writtenOn": "2024-03-29T10:45:19Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "c9c252ba_1f192562",
      "revId": "927f5b5770b2f7335b86273a36f010e646b0bfd0",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    }
  ]
}