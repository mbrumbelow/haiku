{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "703ecb1c_e5e42041",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 9
      },
      "lineNbr": 0,
      "author": {
        "id": 1000109
      },
      "writtenOn": "2024-01-05T18:43:14Z",
      "side": 1,
      "message": "One final concern?",
      "revId": "b8fbe096ff315cc971a602e1e68d384ef2adeae3",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a74fbdcf_8e87a1d9",
        "filename": "src/kits/interface/Window.cpp",
        "patchSetId": 9
      },
      "lineNbr": 3767,
      "author": {
        "id": 1000109
      },
      "writtenOn": "2024-01-05T18:43:14Z",
      "side": 1,
      "message": "Again in my version I added a bool `shortcutCalled` for this case and set it to true in the above logic, as I don\u0027t think checking B_COMMAND_KEY is correct here. This comment is also now wrong since this was moved out of the `if`. You can see what I did and maybe adapt it to your code:\n\nhttps://review.haiku-os.org/c/haiku/+/2603/1/src/kits/interface/Window.cpp",
      "revId": "b8fbe096ff315cc971a602e1e68d384ef2adeae3",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d65396ce_5865ff9e",
        "filename": "src/kits/interface/Window.cpp",
        "patchSetId": 9
      },
      "lineNbr": 3767,
      "author": {
        "id": 1000109
      },
      "writtenOn": "2024-01-05T18:47:08Z",
      "side": 1,
      "message": "Relatedly it might be nice to add a shortcuts testing app (if we don\u0027t have one already) to test some of this stuff, especially things like eating the event so the underlying view doesn\u0027t get it. The underlying view could just be a text view or something that just appends every key event with modifiers.",
      "parentUuid": "a74fbdcf_8e87a1d9",
      "revId": "b8fbe096ff315cc971a602e1e68d384ef2adeae3",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "16d8475f_c18a2edc",
        "filename": "src/kits/interface/Window.cpp",
        "patchSetId": 9
      },
      "lineNbr": 3767,
      "author": {
        "id": 1000013
      },
      "writtenOn": "2024-01-05T18:57:41Z",
      "side": 1,
      "message": "Well the comment is right because I took it out of the if so that this would only trigger with command, but maybe the code is wrong and it should go back inside the if and trigger on both command and no command? I wasnâ€™t sure about this but it seems like that is the case.",
      "parentUuid": "d65396ce_5865ff9e",
      "revId": "b8fbe096ff315cc971a602e1e68d384ef2adeae3",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "60144af2_02cca003",
        "filename": "src/kits/interface/Window.cpp",
        "patchSetId": 9
      },
      "lineNbr": 3767,
      "author": {
        "id": 1000109
      },
      "writtenOn": "2024-01-05T19:07:41Z",
      "side": 1,
      "message": "So the previous logic was all about shortcuts, right, which previously ALWAYS had to have B_COMMAND_KEY, and that `return true` was in the code block which checked for B_COMMAND_KEY. But now you have pulled this code outside the `if`. Now I think you should only eat the event if a shortcut is found for that combination of modifiers and key press. Which is why I added the `shortcutCalled` bool and set it to true when the shortcut from `_FindShortcuts()` is not null. Then like I did you can just `return shortcutCalled` and that will properly indicate whether the key press was handled or not.\n\nWithout this change, any shortcut which does not have B_COMMAND_KEY will be triggered AND then the keypress will go to the underlying view. This will be a hard bug to notice maybe but I still think it is a bug.",
      "parentUuid": "16d8475f_c18a2edc",
      "revId": "b8fbe096ff315cc971a602e1e68d384ef2adeae3",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ac25fc69_af855065",
        "filename": "src/kits/interface/Window.cpp",
        "patchSetId": 9
      },
      "lineNbr": 3767,
      "author": {
        "id": 1000013
      },
      "writtenOn": "2024-01-05T20:22:49Z",
      "side": 1,
      "message": "Right you are Ryan. I\u0027m pretty sure my code here was wrong. I\u0027ve changed it to return true unconditionally inside the if (shortcut !\u003d NULL) { ... } block. I\u0027m pretty sure I don\u0027t need to add an additional bool because if we got into this block it means we are going to trigger the shortcut one way or the other. I also put the find no command back it is required for non command shortcuts to be triggered.",
      "parentUuid": "60144af2_02cca003",
      "revId": "b8fbe096ff315cc971a602e1e68d384ef2adeae3",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    }
  ]
}