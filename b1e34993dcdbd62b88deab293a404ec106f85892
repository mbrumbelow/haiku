{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "64db97b5_40254afd",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2023-11-25T03:57:12Z",
      "side": 1,
      "message": "+1\u0027ing until we actually get it working ðŸ˜„",
      "revId": "b1e34993dcdbd62b88deab293a404ec106f85892",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c02c0fe1_e33e7b01",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000023
      },
      "writtenOn": "2023-11-25T15:27:59Z",
      "side": 1,
      "message": "I doubt it works as is, but good refactor.",
      "revId": "b1e34993dcdbd62b88deab293a404ec106f85892",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d5c016d6_8340bfc0",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000011
      },
      "writtenOn": "2023-11-26T00:16:11Z",
      "side": 1,
      "message": "Did the original driver work as-is? At least kallisti5 didn\u0027t seem to get it to work either.\n\nPacket sending seems to work with this driver, but packet receive doesn\u0027t (kallisti5 reports received packet counter goes up but the packets don\u0027t seem to be delivered.) More tracing needed I suppose...",
      "parentUuid": "c02c0fe1_e33e7b01",
      "revId": "b1e34993dcdbd62b88deab293a404ec106f85892",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "532ad4db_8488651e",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2023-11-26T00:53:46Z",
      "side": 1,
      "message": "original (aka current in tree):\n  * lots of weird behavior since it\u0027s incorrectly called tap vs tun.\n  * bring up a tap for the ioctl interface, and a tun and it works.\n  * connect to remote openvpn server works as with this refactor\n  * ping linux (server) ip from Haiku (client)\n    * no route to host\n    * Haiku: tcpdump tun/0   ARP request who has 10.8.0.1 tell 10.8.0.2 (no reply)\n  * ping haiku (client) from Linux (server)\n    * 100% packet loss from Linux to haiku openvpn ip\n    * Haiku: tcpdump tun/0   IP 10.8.0.1 \u003e 10.8.0.2 ICMP echo request\n    * Haiku: tcpdump tun/0   ARP Request who has 10.8.0.1 tell 10.8.0.2 (no reply)\n    \n Essentially, the same overall behavior as this patchset.  Outbound network traffic from Haiku onto tun/0 seems to be disappearing.  Of note is zero tcpdump ICMP messages seen on Haiku.  Essentially the outbound ARP requests looking up the mac address are failing to be replied to.  OSI layer 2\n \n\nAs this is a 1:1 behavior, and this implementation is much simpler, i\u0027m changing this to a +2.  It represents no regression, and will be easier to debug.",
      "parentUuid": "d5c016d6_8340bfc0",
      "revId": "b1e34993dcdbd62b88deab293a404ec106f85892",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cb25215f_fc316360",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2023-11-26T01:12:28Z",
      "side": 1,
      "message": "of note, there\u0027s no ARP on tun, and there is ARP on tap.\n\nHere\u0027s a rundown of TUN vs TAP\n\"\nTUN devices are a little bit more efficient than TAP devices because there is no Ethernet wrapper around the IP packets, saving 14 bytes per packet. Also, no ARP is required to look up IP addresses. ARP resolution usually causes the first packet to an address (after an idle period) to take longer than the rest since the IP address first has to be resolved. This only affects the first packet, since the ARP resolution is cached for some time.\n\nSince the ARP protocol dynamically resolves addresses, it is more robust and requires less manual configuration than routing tables on TUN devices. This is especially important when using a more complex setup including whole networks.\n\nSince TUN devices are limited to the IP protocol, there are some protocols that can\u0027t be used on TUN devices and require TAP devices instead. Those protocols include DHCP, PXE boot, IPX, ZeroConf, Avahi, mDNS and DLNA.\n\nSo to summarize: TUN is slightly faster and TAP is more flexible concerning supported protocols and setups.\n\"",
      "parentUuid": "532ad4db_8488651e",
      "revId": "b1e34993dcdbd62b88deab293a404ec106f85892",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f27aa49f_618f476d",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000023
      },
      "writtenOn": "2023-11-27T11:36:42Z",
      "side": 1,
      "message": "AFAICT the original driver didn\u0027t work for TUN, only for TAP.",
      "parentUuid": "cb25215f_fc316360",
      "revId": "b1e34993dcdbd62b88deab293a404ec106f85892",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f9ace95e_a606f50a",
        "filename": "headers/posix/net/if_tun.h",
        "patchSetId": 1
      },
      "lineNbr": 1,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2023-11-25T02:23:48Z",
      "side": 1,
      "message": "Why is this empty now?  Compatibility?",
      "revId": "b1e34993dcdbd62b88deab293a404ec106f85892",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ed59eb9c_e3d100cf",
        "filename": "headers/posix/net/if_tun.h",
        "patchSetId": 1
      },
      "lineNbr": 1,
      "author": {
        "id": 1000011
      },
      "writtenOn": "2023-11-25T02:32:49Z",
      "side": 1,
      "message": "Compatibility, and in the future we will probably add some custom ioctls in here just like FreeBSD/OpenBSD/etc. do for their TUN.",
      "parentUuid": "f9ace95e_a606f50a",
      "revId": "b1e34993dcdbd62b88deab293a404ec106f85892",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "355fed49_3dd547b0",
        "filename": "headers/posix/net/if_tun.h",
        "patchSetId": 1
      },
      "lineNbr": 1,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2023-11-25T03:57:12Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "ed59eb9c_e3d100cf",
      "revId": "b1e34993dcdbd62b88deab293a404ec106f85892",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    }
  ]
}