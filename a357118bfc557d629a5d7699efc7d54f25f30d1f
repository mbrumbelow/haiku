{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "672b448a_07a7ef67",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000012
      },
      "writtenOn": "2022-12-31T08:04:39Z",
      "side": 1,
      "message": "What is the issue with $LANG?",
      "revId": "a357118bfc557d629a5d7699efc7d54f25f30d1f",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7d35e177_45111768",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000390
      },
      "writtenOn": "2022-12-31T10:41:04Z",
      "side": 1,
      "message": "I tested this in a beta4 release and it seems to not be set at all. I don\u0027t know where It should be set but since locale knows the locale too this seems to be a good substitute to me.",
      "parentUuid": "672b448a_07a7ef67",
      "revId": "a357118bfc557d629a5d7699efc7d54f25f30d1f",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b926d72b_31e8ffe6",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000012
      },
      "writtenOn": "2023-01-01T11:20:50Z",
      "side": 1,
      "message": "I can confirm that $LANG does not seem to be set. I do wonder if `locale -l` is a good alternative. For example, setting the language to France (French) will output fr_FR, which if I am correct, will not open the French user guide.\n\nSo it almost seems like you need another fallback to the base language. So the logic would be:\n1. Try to see if the language code of the output of locale -l exists. If not, then:\n2. Try to get the base language of the language code (if applicable), i.e. the part before the underscore, and see if that documentation exists.\n3. If not, fall back to the standard (English) guide.",
      "revId": "a357118bfc557d629a5d7699efc7d54f25f30d1f",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "826fe813_ae970358",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000390
      },
      "writtenOn": "2023-01-01T13:41:37Z",
      "side": 1,
      "message": "Good cath, fr_FR does indeed not exist for the userguide, pt_BR and pt_PT do though, so a fallback to the shorter name would be the correct solution.\n\nIt doesn\u0027t seem like the locale kit has a direct way to get the base language name, I think either I\u0027d to the stripping in the script or add a -b flag to the locale command to output it. I\u0027m not sure if this is needed anywhere else anyhow",
      "parentUuid": "b926d72b_31e8ffe6",
      "revId": "a357118bfc557d629a5d7699efc7d54f25f30d1f",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5340ad2c_87e63b6e",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000012
      },
      "writtenOn": "2023-01-01T17:09:35Z",
      "side": 1,
      "message": "I\u0027d add it to the script. Something like echo $language | awk -F_ \u0027{print $1}\u0027 should to the trick",
      "parentUuid": "826fe813_ae970358",
      "revId": "a357118bfc557d629a5d7699efc7d54f25f30d1f",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    }
  ]
}