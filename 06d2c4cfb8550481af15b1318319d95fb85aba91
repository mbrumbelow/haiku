{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "e02b72de_e0561f4a",
        "filename": "headers/private/interface/DefaultColors.h",
        "patchSetId": 5
      },
      "lineNbr": 15,
      "author": {
        "id": 1000001
      },
      "writtenOn": "2022-07-06T09:02:02Z",
      "side": 1,
      "message": "I don\u0027t understand why this is exposed in a private header of the interface kit.\n\nIf you put it here it\u0027s possible for apps to access this array directly, then, what\u0027s the point of the API in libshared? It can be short-circuited to access the array directly.\n\nAnd if we change the array format someday, since the array is in libbe, apps that used the API in libshared will still stop working if the array does not match what they expect.\n\nSo we have two choices here:\n- Make this be fully contained in interface kit, make kDefaultColorsDark not exposed at all in public or private headers, and only expose the function. And immediately commit to keeping this function ABI stable if we don\u0027t want to break apps using it in the future\n- Or, move everything (both the color array and the function) completely into the shared kit. Then all apps using end up bundling their own copy of it, and we can change it as much as we want if neede later without breaking existing binaries\n\nThe mixed solution currently implemented ends up giving us the worst of both worlds.",
      "revId": "06d2c4cfb8550481af15b1318319d95fb85aba91",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7b1ce489_d69a300e",
        "filename": "headers/private/interface/DefaultColors.h",
        "patchSetId": 5
      },
      "lineNbr": 15,
      "author": {
        "id": 1000390
      },
      "writtenOn": "2022-07-06T09:53:15Z",
      "side": 1,
      "message": "I don\u0027t see the problem of apps potentially linking to private parts of the api, if they do this we can not protect them either way, and kDefaultColors has the same problem here.\nWhich was the inital reason for this proposed api.\n\nIf we move kDefaultColorsDark into libshared we could end up in a situation where the acess to kDefaultColors breaks but the acess to kDefaultColorsDark does not. For this reason I think both arrays should be in the same place.\n\nWe could put both arrays into libshared (copying kDefaultColors), including the api\nor move both back to the interface kit and keep it in BPrivate.\n\nGiven the choice I think it makes more sense to just keep it all in the interface kit and mark the api as BPrivate then.",
      "parentUuid": "e02b72de_e0561f4a",
      "revId": "06d2c4cfb8550481af15b1318319d95fb85aba91",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "41c6c8bd_e547ae18",
        "filename": "headers/private/interface/DefaultColors.h",
        "patchSetId": 5
      },
      "lineNbr": 15,
      "author": {
        "id": 1000001
      },
      "writtenOn": "2022-07-10T09:38:10Z",
      "side": 1,
      "message": "\u003e Given the choice I think it makes more sense to just keep it all in the interface kit and mark the api as BPrivate then.\n\nI think it makes more sense to move it all to libshared instead. All private APIs should be in libshared, then we can move it into the interface kit if/when we decide to make it public.\n\nIn any case, we should not make the arrays public, it just creates a mess because we already plan to change how the color system works (with having just an \"accent\" color and generating the other colors from it). These default colors will not exist anymore as an array when we do this.\n\nThe function avoids this problem (it can compute the colors on the fly or do whatever is convenient to preserve its API). But the array really shouldn\u0027t be exposed anywhere in libbe for all apps to use.",
      "parentUuid": "7b1ce489_d69a300e",
      "revId": "06d2c4cfb8550481af15b1318319d95fb85aba91",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    }
  ]
}