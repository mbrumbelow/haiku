{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "89896980_ea2c9c2d",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000016
      },
      "writtenOn": "2022-01-06T15:49:04Z",
      "side": 1,
      "message": "Just pointing out some coding style issues.",
      "revId": "25d781506691ffe60b4887fd4615734690c73c94",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "58cdbec4_776f1d91",
        "filename": "src/system/boot/platform/efi/arch/x86/arch_mmu.cpp",
        "patchSetId": 1
      },
      "lineNbr": 70,
      "author": {
        "id": 1000016
      },
      "writtenOn": "2022-01-06T15:49:04Z",
      "side": 1,
      "message": "The second line of the if needs to be indented one more, as this is a parameter list (this adds one level of indentation).",
      "revId": "25d781506691ffe60b4887fd4615734690c73c94",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4b35811e_aa7ee1f4",
        "filename": "src/system/boot/platform/efi/arch/x86/arch_mmu.cpp",
        "patchSetId": 1
      },
      "lineNbr": 70,
      "author": {
        "id": 1000341
      },
      "writtenOn": "2022-01-08T10:04:56Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "58cdbec4_776f1d91",
      "revId": "25d781506691ffe60b4887fd4615734690c73c94",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "49463547_f5ef6cea",
        "filename": "src/system/boot/platform/efi/arch/x86/arch_mmu.cpp",
        "patchSetId": 1
      },
      "lineNbr": 100,
      "author": {
        "id": 1000016
      },
      "writtenOn": "2022-01-06T15:49:04Z",
      "side": 1,
      "message": "vir_gdt -\u003e virtualGDT",
      "revId": "25d781506691ffe60b4887fd4615734690c73c94",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d0278fc7_3720806b",
        "filename": "src/system/boot/platform/efi/arch/x86/arch_mmu.cpp",
        "patchSetId": 1
      },
      "lineNbr": 100,
      "author": {
        "id": 1000341
      },
      "writtenOn": "2022-01-08T10:04:56Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "49463547_f5ef6cea",
      "revId": "25d781506691ffe60b4887fd4615734690c73c94",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c33e1bce_e91aa454",
        "filename": "src/system/boot/platform/efi/arch/x86/arch_mmu.cpp",
        "patchSetId": 1
      },
      "lineNbr": 115,
      "author": {
        "id": 1000016
      },
      "writtenOn": "2022-01-06T15:49:04Z",
      "side": 1,
      "message": "virt_addr -\u003e virtAddr or virtualAddress, phys_addr -\u003e physAddr or physicalAddress",
      "revId": "25d781506691ffe60b4887fd4615734690c73c94",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "83dc77f2_efa1a012",
        "filename": "src/system/boot/platform/efi/arch/x86/arch_mmu.cpp",
        "patchSetId": 1
      },
      "lineNbr": 115,
      "author": {
        "id": 1000341
      },
      "writtenOn": "2022-01-08T10:04:56Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "c33e1bce_e91aa454",
      "revId": "25d781506691ffe60b4887fd4615734690c73c94",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "041aa935_f2d2be9c",
        "filename": "src/system/boot/platform/efi/arch/x86/arch_mmu.cpp",
        "patchSetId": 1
      },
      "lineNbr": 138,
      "author": {
        "id": 1000016
      },
      "writtenOn": "2022-01-06T15:49:04Z",
      "side": 1,
      "message": "Same here",
      "revId": "25d781506691ffe60b4887fd4615734690c73c94",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "42a51fb5_c3fabb95",
        "filename": "src/system/boot/platform/efi/arch/x86/arch_mmu.cpp",
        "patchSetId": 1
      },
      "lineNbr": 138,
      "author": {
        "id": 1000341
      },
      "writtenOn": "2022-01-08T10:04:56Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "041aa935_f2d2be9c",
      "revId": "25d781506691ffe60b4887fd4615734690c73c94",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "400d33ce_c56c5b9c",
        "filename": "src/system/boot/platform/efi/arch/x86/arch_mmu.cpp",
        "patchSetId": 1
      },
      "lineNbr": 152,
      "author": {
        "id": 1000016
      },
      "writtenOn": "2022-01-06T15:49:04Z",
      "side": 1,
      "message": "etc.",
      "revId": "25d781506691ffe60b4887fd4615734690c73c94",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c19f7e04_e1192aec",
        "filename": "src/system/boot/platform/efi/arch/x86/arch_mmu.cpp",
        "patchSetId": 1
      },
      "lineNbr": 152,
      "author": {
        "id": 1000341
      },
      "writtenOn": "2022-01-08T10:04:56Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "400d33ce_c56c5b9c",
      "revId": "25d781506691ffe60b4887fd4615734690c73c94",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e8bb7b7e_a9296bab",
        "filename": "src/system/boot/platform/efi/arch/x86/arch_mmu.cpp",
        "patchSetId": 1
      },
      "lineNbr": 200,
      "author": {
        "id": 1000016
      },
      "writtenOn": "2022-01-06T15:49:04Z",
      "side": 1,
      "message": "One level of indentation missing",
      "revId": "25d781506691ffe60b4887fd4615734690c73c94",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "dd3a11d9_774f3c01",
        "filename": "src/system/boot/platform/efi/arch/x86/arch_mmu.cpp",
        "patchSetId": 1
      },
      "lineNbr": 200,
      "author": {
        "id": 1000341
      },
      "writtenOn": "2022-01-08T10:22:18Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "e8bb7b7e_a9296bab",
      "revId": "25d781506691ffe60b4887fd4615734690c73c94",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ce0779df_3576eeb4",
        "filename": "src/system/boot/platform/efi/arch/x86/arch_mmu.cpp",
        "patchSetId": 1
      },
      "lineNbr": 230,
      "author": {
        "id": 1000016
      },
      "writtenOn": "2022-01-06T15:49:04Z",
      "side": 1,
      "message": "Same here.",
      "revId": "25d781506691ffe60b4887fd4615734690c73c94",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7b9d09d0_6e303e39",
        "filename": "src/system/boot/platform/efi/arch/x86/arch_mmu.cpp",
        "patchSetId": 1
      },
      "lineNbr": 230,
      "author": {
        "id": 1000341
      },
      "writtenOn": "2022-01-08T10:04:56Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ce0779df_3576eeb4",
      "revId": "25d781506691ffe60b4887fd4615734690c73c94",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8062b19b_115ecf08",
        "filename": "src/system/boot/platform/efi/arch/x86/arch_mmu.cpp",
        "patchSetId": 1
      },
      "lineNbr": 334,
      "author": {
        "id": 1000341
      },
      "writtenOn": "2022-01-06T14:33:49Z",
      "side": 1,
      "message": "The SMP tranpolines (coming soon) rely on identity mapping for the first 1MB. This is done the same way in BIOS and EFI-x86_64 so I guess it should be good enough here.",
      "range": {
        "startLine": 333,
        "startChar": 1,
        "endLine": 334,
        "endChar": 68
      },
      "revId": "25d781506691ffe60b4887fd4615734690c73c94",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0ed9b029_50ad56d4",
        "filename": "src/system/boot/platform/efi/arch/x86/arch_mmu.cpp",
        "patchSetId": 1
      },
      "lineNbr": 334,
      "author": {
        "id": 1000341
      },
      "writtenOn": "2022-01-08T10:21:45Z",
      "side": 1,
      "message": "probably this should not be considered a TODO item, just something I noted - so let\u0027s set this comment to resolved.",
      "parentUuid": "8062b19b_115ecf08",
      "range": {
        "startLine": 333,
        "startChar": 1,
        "endLine": 334,
        "endChar": 68
      },
      "revId": "25d781506691ffe60b4887fd4615734690c73c94",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "487f64dd_e9d8679a",
        "filename": "src/system/boot/platform/efi/arch/x86/arch_mmu.cpp",
        "patchSetId": 1
      },
      "lineNbr": 343,
      "author": {
        "id": 1000341
      },
      "writtenOn": "2022-01-06T14:33:49Z",
      "side": 1,
      "message": "These are not very good on the other hand, I\u0027m not quite sure how to handle these:\n* then entry.S trampoline seems to require identity mapping but perhaps can we copy it to lower 1M like the SMP trampoline?\n* kernel args and initial GDT should really not have an identity mapping requirement but I still have to figure out a better way...",
      "range": {
        "startLine": 336,
        "startChar": 2,
        "endLine": 343,
        "endChar": 106
      },
      "revId": "25d781506691ffe60b4887fd4615734690c73c94",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e5d55dc6_4bf1b5f3",
        "filename": "src/system/boot/platform/efi/arch/x86/arch_mmu.cpp",
        "patchSetId": 1
      },
      "lineNbr": 343,
      "author": {
        "id": 1000016
      },
      "writtenOn": "2022-01-06T15:49:04Z",
      "side": 1,
      "message": "Not sure if you can make use of, but I seem to remember that we pass on some initial mappings to the kernel that it can then reuse (recreate) to access data within the boot loader.",
      "parentUuid": "487f64dd_e9d8679a",
      "range": {
        "startLine": 336,
        "startChar": 2,
        "endLine": 343,
        "endChar": 106
      },
      "revId": "25d781506691ffe60b4887fd4615734690c73c94",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7473aa5e_842f7710",
        "filename": "src/system/boot/platform/efi/arch/x86/arch_mmu.cpp",
        "patchSetId": 1
      },
      "lineNbr": 343,
      "author": {
        "id": 1000341
      },
      "writtenOn": "2022-01-08T10:21:45Z",
      "side": 1,
      "message": "Thinking about it a bit more, I can remove the identity mapping for the GDT descriptor by loading GDTR before enabling paging.\n\nThis still leaves us with identity mapping for the entry.S trampoline code and the kernel args.",
      "parentUuid": "e5d55dc6_4bf1b5f3",
      "range": {
        "startLine": 336,
        "startChar": 2,
        "endLine": 343,
        "endChar": 106
      },
      "revId": "25d781506691ffe60b4887fd4615734690c73c94",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "98541eab_cba53609",
        "filename": "src/system/boot/platform/efi/arch/x86/arch_mmu.cpp",
        "patchSetId": 1
      },
      "lineNbr": 343,
      "author": {
        "id": 1000341
      },
      "writtenOn": "2022-01-16T18:28:35Z",
      "side": 1,
      "message": "Kernel args: I copy them to a dynamically allocated region, just like on the ARM.\n\nentry.S trampoline is still to be sorted out. I\u0027d like to copy it to lower 1M, similarly to the SMP trampolines.",
      "parentUuid": "7473aa5e_842f7710",
      "range": {
        "startLine": 336,
        "startChar": 2,
        "endLine": 343,
        "endChar": 106
      },
      "revId": "25d781506691ffe60b4887fd4615734690c73c94",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "78521ed0_3a21c6d7",
        "filename": "src/system/boot/platform/efi/arch/x86/arch_mmu.cpp",
        "patchSetId": 1
      },
      "lineNbr": 343,
      "author": {
        "id": 1000341
      },
      "writtenOn": "2022-01-16T18:46:55Z",
      "side": 1,
      "message": "Well it wasn\u0027t so difficult so I ended up doing this today as well. Now I\u0027m happy with the memory map.",
      "parentUuid": "98541eab_cba53609",
      "range": {
        "startLine": 336,
        "startChar": 2,
        "endLine": 343,
        "endChar": 106
      },
      "revId": "25d781506691ffe60b4887fd4615734690c73c94",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b46ece43_0a574920",
        "filename": "src/system/boot/platform/efi/arch/x86/arch_mmu.cpp",
        "patchSetId": 1
      },
      "lineNbr": 368,
      "author": {
        "id": 1000016
      },
      "writtenOn": "2022-01-06T15:49:04Z",
      "side": 1,
      "message": "\u003d and + go to the beginning of the line.",
      "revId": "25d781506691ffe60b4887fd4615734690c73c94",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "48a7799f_8600ddea",
        "filename": "src/system/boot/platform/efi/arch/x86/arch_mmu.cpp",
        "patchSetId": 1
      },
      "lineNbr": 368,
      "author": {
        "id": 1000341
      },
      "writtenOn": "2022-01-08T10:04:56Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "b46ece43_0a574920",
      "revId": "25d781506691ffe60b4887fd4615734690c73c94",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    }
  ]
}