{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "16f0f00f_b5eb914f",
        "filename": "src/kits/interface/Window.cpp",
        "patchSetId": 12
      },
      "lineNbr": 297,
      "author": {
        "id": 1000109
      },
      "writtenOn": "2024-01-06T21:57:29Z",
      "side": 1,
      "message": "This would still return 0 in the common case of nothing being specified for default Cmd based shortcuts.\n\nLike I said before, `PrepareModifiers` previously had two purposes:\n\n1. Initialize modifiers when setting up the shortcuts, as called by the developer when building their GUI.\n2. Cleaning up modifiers in _FindShortcut before checking shortcuts.\n\nWhen Cmd was always required this one function could serve both purposes, but now I don\u0027t think it makes as much sense to use it for both. To keep things sane I think B_NO_COMMAND_KEY needs to just be something handled on the initialization side and not in keyboard handling, hence adding `_InitializeModifiers`. Also then in my old change I made `PrepareModifiers` just `return modifiers \u0026 AllowedModifiers();` (so it doesn\u0027t always tack on `B_COMMAND_KEY`.)\n\nI recall testing my change with ShowImage and I am pretty sure it worked, though it has been a long time.",
      "revId": "6d0f3b72fb7ca686c2613aa7b6c03041675f02ab",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d08e0f6a_1b0b0a76",
        "filename": "src/kits/interface/Window.cpp",
        "patchSetId": 12
      },
      "lineNbr": 297,
      "author": {
        "id": 1000013
      },
      "writtenOn": "2024-01-06T22:21:58Z",
      "side": 1,
      "message": "I believe return modifiers is correct, but it wasn’t meant to fix the problem you’re talking about, it’s just that I’m juggling dozens of PS’s right now. I believe you may be on to something with InitializeModifiers(). We may need 2 methods, one on init that tacks on B_COMMAND_KEY or not, and then a different one inside _FindShortcut() that has 3 cases. Or maybe we just need the 2 case PrepareModifiers everywhere but we have to filter out invalid modifiers i.e. Caps Lock in _Find… first.",
      "parentUuid": "16f0f00f_b5eb914f",
      "revId": "6d0f3b72fb7ca686c2613aa7b6c03041675f02ab",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0481af6c_349e1934",
        "filename": "src/kits/interface/Window.cpp",
        "patchSetId": 12
      },
      "lineNbr": 297,
      "author": {
        "id": 1000109
      },
      "writtenOn": "2024-01-07T00:11:52Z",
      "side": 1,
      "message": "I am not personally in any hurry on this, please don\u0027t feel pressure. I just wanted to be sure to give you some reviews after you updated the code.\n\nIt is fine if you have some other work that is more pressing to you, or other stuff you want to finish before revisiting this. Unfortunately this probably ended up being more tricky than you thought. I know how it is when you just want to merge something and there are a ton of code reviews and you can\u0027t seem to finish it. I just want to make sure we avoid any regressions or bugs on this, and for once I have enough knowledge to help out on a review.\n\nTo be honest you have inspired me to finally dust off one of my older machines I wanted to use as a Haiku box to see if I can maybe help on this.",
      "parentUuid": "d08e0f6a_1b0b0a76",
      "revId": "6d0f3b72fb7ca686c2613aa7b6c03041675f02ab",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    }
  ]
}