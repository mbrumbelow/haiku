{
  "comments": [
    {
      "key": {
        "uuid": "48db8798_34c72839",
        "filename": "src/preferences/input/InputDeviceView.cpp",
        "patchSetId": 1
      },
      "lineNbr": 43,
      "author": {
        "id": 1000001
      },
      "writtenOn": "2020-05-17T13:16:22Z",
      "side": 1,
      "message": "I think we don\u0027t need a secondary icon? for now at least. Is it possible to share this code with the Media preferences (I think that\u0027s where it comes from?)\n\nInstead of copying it in this file, could we move it for example to the shared kit (src/kits/shared) and have both preferences use it?",
      "revId": "9e9a3d2e321cbd5564bb4077e4e5074bddb8578f",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "abb25444_985aee62",
        "filename": "src/preferences/input/InputWindow.cpp",
        "patchSetId": 1
      },
      "lineNbr": 187,
      "author": {
        "id": 1000001
      },
      "writtenOn": "2020-05-17T13:16:22Z",
      "side": 1,
      "message": "why new BString here? name is already a BString, you can simply use \u0027name.String()\u0027 to convret it to a char*?",
      "revId": "9e9a3d2e321cbd5564bb4077e4e5074bddb8578f",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "938a4537_edd12568",
        "filename": "src/preferences/input/InputWindow.cpp",
        "patchSetId": 1
      },
      "lineNbr": 187,
      "author": {
        "id": 1000116
      },
      "writtenOn": "2020-05-17T13:28:21Z",
      "side": 1,
      "message": "I tried this first but then, there is no device present in the list. When I create new BString object then, the names comes. I don\u0027t know why but it happens!\nCan you please provide the reason behind this?",
      "parentUuid": "abb25444_985aee62",
      "revId": "9e9a3d2e321cbd5564bb4077e4e5074bddb8578f",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "17428e1a_bc156603",
        "filename": "src/preferences/input/InputWindow.cpp",
        "patchSetId": 1
      },
      "lineNbr": 187,
      "author": {
        "id": 1000001
      },
      "writtenOn": "2020-05-18T10:20:47Z",
      "side": 1,
      "message": "Yes, this is because in DeviceListItemView you have only stored a pointer to the name (const char* fTitle; in the class definition). So, it relies on something else keeping the name. If you use name.String(), the name is destroyed when this method exits. But what you have done now results in a memory leak, the new BString(name) is never freed.\n\nI think the simpler solution is to make DeviceListItemView inherit from BStringItem instead of BListItem, and let BStringItem manage the label. BStringItem is a BListItem with a text label, that\u0027s a good start for what we need. Then we only have to add the icon, and rewrite the drawing function to draw the icon and the text next to it.\n\nAnother solution is to use a BString for the label instead of a const char*. BString will then take care of the memory management problems.",
      "parentUuid": "938a4537_edd12568",
      "revId": "9e9a3d2e321cbd5564bb4077e4e5074bddb8578f",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5",
      "unresolved": true
    }
  ]
}