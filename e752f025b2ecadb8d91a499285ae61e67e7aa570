{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "67b6e798_3baf5a7a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000011
      },
      "writtenOn": "2023-05-20T14:50:46Z",
      "side": 1,
      "message": "Does it really make sense to keep these in app_server resources, if they\u0027re being used so commonly? \n\nPerhaps in this commit we should also move these icons from app_server resources to a /system/data directory?",
      "revId": "e752f025b2ecadb8d91a499285ae61e67e7aa570",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "dddf76e0_055d79aa",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000011
      },
      "writtenOn": "2023-05-20T14:51:55Z",
      "side": 1,
      "message": "Also, perhaps the \"iconName\"s could be made to conform, at least where there is obvious overlap, to the FreeDesktop icon naming specification? Then we could slowly work towards using this API in ports, too. Right now the Qt port ships with a SVG icon theme according to FreeDesktop naming derived from HVIFs...",
      "parentUuid": "67b6e798_3baf5a7a",
      "revId": "e752f025b2ecadb8d91a499285ae61e67e7aa570",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "23bdc390_5014a962",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000001
      },
      "writtenOn": "2023-05-20T15:19:23Z",
      "side": 1,
      "message": "That would be dialog-error, dialog-information and dialog-warning for the BAlert ones (the specification is in https://specifications.freedesktop.org/icon-naming-spec/icon-naming-spec-latest.html).\n\nFrom this list, we already have the country flags, which are stored in libbe.so resources and would also need to be renamed (currently they just have the country code, where it should be prefixed by \"flag-\").\n\nI think the issue for Qt is that Qt apps wouldn\u0027t know what to do with a BBitmap or an HVIF resource, which explains why the icons were converted to SVG? And also, if we would follow FreeDesktop exactly, we have to implement https://specifications.freedesktop.org/icon-theme-spec/latest/ and apps directly lookup the icons in directories with a specified layout. Since the icons are small, storing only one per file is a waste of disk space and disk performance, when we can pack them all in a single resource file.\n\nI\u0027m fine with:\n- Making the icons part of libbe.so rather than app_server (if we don\u0027t follow the idea of making them drawn fully server-side, which sounds nice but I\u0027m not really interested in implementing it)\n- Following Freedesktop icon-naming-spec\n\nI would rather avoid following icon-theme-spec strictly, because:\n- It requires storing each icon as a separate file which is a waste of space (one full inode allocated to each icon, not counting the size of the directory entries)\n- It only allows PNG, SVG and XPM file formats, which is another waste of space in our case\n\nWe may still follow the directory naming convention of icon-theme-spec, although it isn\u0027t clear how that interacts with icon-naming-spec. Some .INI files seem to be involved and we don\u0027t have a parser for these, and it seems the lookup process is quite complicated to support various icon sizes (which we don\u0027t need since all our icons are vector and have built-in adjustments for various levels of details).\n\nWindows has had icons stored in .dll files since at least Windows 3.1 (probably even before), and I don\u0027t think we should go back 30+ years on that just to please ported Linux apps...",
      "parentUuid": "dddf76e0_055d79aa",
      "revId": "e752f025b2ecadb8d91a499285ae61e67e7aa570",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "991cf3a5_2b6584be",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000011
      },
      "writtenOn": "2023-05-20T15:45:01Z",
      "side": 1,
      "message": "Qt supports SVG like all other image formats through a format plugin. We could make one for HVIF (or just for Translators generically) without too much difficulty.\n\nAnd yes, I meant the naming convention, not the directory layout. Qt for instance has an API to fetch an icon purely based on the name. I think GTK does too.",
      "parentUuid": "23bdc390_5014a962",
      "revId": "e752f025b2ecadb8d91a499285ae61e67e7aa570",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6bb08e16_9f3c13cd",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000052
      },
      "writtenOn": "2023-05-20T17:13:08Z",
      "side": 1,
      "message": "I would also like to add that back in GCI 2016, I mapped a bunch of Haiku Icons to the FreeDesktop Icon Naming Specification: https://docs.google.com/spreadsheets/d/1mapOGdR8OGW7hU9TsnO_t7k8Zh4xA9sB9U39bxsQkX0/edit\n\nI don’t remember all that much of my reasoning behind this mapping, but I do remember that icons from Haiku and Zumi’s icon repository was primarily used.",
      "parentUuid": "991cf3a5_2b6584be",
      "revId": "e752f025b2ecadb8d91a499285ae61e67e7aa570",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c7036653_de5f8c9c",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000390
      },
      "writtenOn": "2023-05-21T17:34:09Z",
      "side": 1,
      "message": "Doesn\u0027t qthaikupligons already have hvif support?\n\nhttps://github.com/threedeyes/qthaikuplugins/tree/master/imageformats/qhvifplugin",
      "parentUuid": "6bb08e16_9f3c13cd",
      "revId": "e752f025b2ecadb8d91a499285ae61e67e7aa570",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "db1ddb0f_3b9afd69",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000001
      },
      "writtenOn": "2023-05-21T18:37:41Z",
      "side": 1,
      "message": "Thanks.\n\nThere isn\u0027t an exact match between the two, however.\n\nCurrently, we have: info, idea, warn and stop.\n\nIn FreeDesktop spec, the icons are:\n\n- dialog-error\tThe icon used when a dialog is opened to explain an error condition to the user.\n- dialog-information\tThe icon used when a dialog is opened to give information to the user that may be pertinent to the requested action.\n- dialog-password\tThe icon used when a dialog requesting the authentication credentials for a user is opened.\n- dialog-question\tThe icon used when a dialog is opened to ask a simple question of the user.\n- dialog-warning\tThe icon used when a dialog is opened to warn the user of impending issues with the requested action.\n\nSo there are some easy mappings:\n\n- dialog-information is the same as info\n- dialog-warning is the same as warn\n\nThere are some mappings by lack of better choice:\n\n- dialog-error can be the same as stop (which is more general and may be used in non-error cases, if there is a risk of data loss for example)\n\nThere are two FreeDesktop icons we don\u0027t have an icon for: dialog-password and dialog-question.\n\nAnd there is nothing in FreeDesktop that quite corresponds to our \"idea\" (lightbulb) icon. So, how should we name it? I can go with dialog-idea for now.\n\nThe old names match with the BAlert API constants, and also with the arguments used to the \"alert\" command line tool. I guess we should not change these, but we have to document how they map to the Freedesktop names now.",
      "parentUuid": "6bb08e16_9f3c13cd",
      "revId": "e752f025b2ecadb8d91a499285ae61e67e7aa570",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    }
  ]
}