{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "ec1e3fc2_756bc81a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000011
      },
      "writtenOn": "2025-01-27T17:44:26Z",
      "side": 1,
      "message": "What\u0027s the problem if such future allocations fail? Won\u0027t they just result in an area getting created later on anyway?",
      "revId": "8d78930658a8d2c34e54e50f39e0b898ed9feb30",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c4024bbf_2df4dd54",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000366
      },
      "writtenOn": "2025-01-28T11:48:48Z",
      "side": 1,
      "message": "They would if the future allocations were for data (using AllocateAddress/AllocateData).  But when there are future allocations for a Request itself, AllocateRequest is called. If the port buffer is full, AllocateRequest doesn\u0027t create an area, it just returns B_BAD_VALUE.",
      "parentUuid": "ec1e3fc2_756bc81a",
      "revId": "8d78930658a8d2c34e54e50f39e0b898ed9feb30",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "75dc7b0f_7eba69ce",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000011
      },
      "writtenOn": "2025-01-28T16:49:51Z",
      "side": 1,
      "message": "Maybe the new argument should be called reserveForNextRequests then.\n\nI think the information in your reply here should probably also get added to the commit message.",
      "parentUuid": "c4024bbf_2df4dd54",
      "revId": "8d78930658a8d2c34e54e50f39e0b898ed9feb30",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1fa5927a_2cfb2156",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000366
      },
      "writtenOn": "2025-01-29T13:01:32Z",
      "side": 1,
      "message": "Yes, that is a better name for the new argument.",
      "parentUuid": "75dc7b0f_7eba69ce",
      "revId": "8d78930658a8d2c34e54e50f39e0b898ed9feb30",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f04e2d0d_a9f6b1f7",
        "filename": "src/add-ons/kernel/file_systems/userlandfs/private/RequestAllocator.cpp",
        "patchSetId": 1
      },
      "lineNbr": 179,
      "author": {
        "id": 1000630
      },
      "writtenOn": "2025-01-27T13:03:38Z",
      "side": 1,
      "message": "Suggestion from `haiku-format` (change):\n```c++\nRequestAllocator::AllocateAddress(Address\u0026 address, int32 size, int32 align, void** data,\n\tbool deferredInit, int32 portReserveSize)\n```",
      "range": {
        "startLine": 178,
        "startChar": 0,
        "endLine": 179,
        "endChar": 0
      },
      "tag": "autogenerated:experimental-formatting-bot",
      "revId": "8d78930658a8d2c34e54e50f39e0b898ed9feb30",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c7a2fa20_7d2d2343",
        "filename": "src/add-ons/kernel/file_systems/userlandfs/private/RequestAllocator.cpp",
        "patchSetId": 1
      },
      "lineNbr": 276,
      "author": {
        "id": 1000630
      },
      "writtenOn": "2025-01-27T13:03:38Z",
      "side": 1,
      "message": "Suggestion from `haiku-format` (change):\n```c++\nRequestAllocator::AllocateData(Address\u0026 address, const void* data, int32 size, int32 align,\n\tbool deferredInit, int32 portReserveSize)\n```",
      "range": {
        "startLine": 275,
        "startChar": 0,
        "endLine": 276,
        "endChar": 0
      },
      "tag": "autogenerated:experimental-formatting-bot",
      "revId": "8d78930658a8d2c34e54e50f39e0b898ed9feb30",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c0bd1980_6036683a",
        "filename": "src/add-ons/kernel/file_systems/userlandfs/private/RequestAllocator.cpp",
        "patchSetId": 1
      },
      "lineNbr": 282,
      "author": {
        "id": 1000630
      },
      "writtenOn": "2025-01-27T13:03:38Z",
      "side": 1,
      "message": "Suggestion from `haiku-format` (change):\n```c++\n\t\terror \u003d AllocateAddress(address, size, align, \u0026destination, deferredInit, portReserveSize);\n```",
      "range": {
        "startLine": 281,
        "startChar": 0,
        "endLine": 282,
        "endChar": 0
      },
      "tag": "autogenerated:experimental-formatting-bot",
      "revId": "8d78930658a8d2c34e54e50f39e0b898ed9feb30",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5ad14231_deaeea14",
        "filename": "src/add-ons/kernel/file_systems/userlandfs/private/Requests.cpp",
        "patchSetId": 1
      },
      "lineNbr": 14,
      "author": {
        "id": 1000630
      },
      "writtenOn": "2025-01-27T13:03:38Z",
      "side": 1,
      "message": "Suggestion from `haiku-format` (change):\n```c++\n#define _ADD_ADDRESS(_address, _flags) \\\n\tdo { \\\n\t\tif (*count \u003e\u003d MAX_REQUEST_ADDRESS_COUNT) \\\n\t\t\treturn B_BAD_VALUE; \\\n\t\tinfos[*count].address \u003d \u0026_address; \\\n\t\tinfos[*count].flags \u003d _flags; \\\n\t\tinfos[(*count)++].max_size \u003d INT32_MAX; \\\n\t} while (0) // TODO:...\n```",
      "range": {
        "startLine": 8,
        "startChar": 0,
        "endLine": 14,
        "endChar": 0
      },
      "tag": "autogenerated:experimental-formatting-bot",
      "revId": "8d78930658a8d2c34e54e50f39e0b898ed9feb30",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "06192b6f_f1f82397",
        "filename": "src/add-ons/kernel/file_systems/userlandfs/private/Requests.cpp",
        "patchSetId": 1
      },
      "lineNbr": 14,
      "author": {
        "id": 1000366
      },
      "writtenOn": "2025-01-27T13:04:50Z",
      "side": 1,
      "message": "Following up on https://review.haiku-os.org/c/haiku/+/8721/4/src/add-ons/kernel/file_systems/userlandfs/private/Requests.cpp#13.",
      "revId": "8d78930658a8d2c34e54e50f39e0b898ed9feb30",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "edf2afdd_006583c6",
        "filename": "src/add-ons/kernel/file_systems/userlandfs/private/Requests.cpp",
        "patchSetId": 1
      },
      "lineNbr": 14,
      "author": {
        "id": 1000011
      },
      "writtenOn": "2025-01-29T17:17:10Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "06192b6f_f1f82397",
      "revId": "8d78930658a8d2c34e54e50f39e0b898ed9feb30",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "94a2c87c_d07e8621",
        "filename": "src/add-ons/kernel/file_systems/userlandfs/server/UserlandRequestHandler.cpp",
        "patchSetId": 1
      },
      "lineNbr": 1262,
      "author": {
        "id": 1000630
      },
      "writtenOn": "2025-01-27T13:03:38Z",
      "side": 1,
      "message": "Suggestion from `haiku-format` (change):\n```c++\n\t\tresult \u003d allocator.AllocateAddress(reply-\u003ebuffer, size, 1, \u0026buffer, true,\n\t\t\tsizeof(FileCacheReadRequest) + sizeof(ReceiptAckReply));\n```",
      "range": {
        "startLine": 1261,
        "startChar": 0,
        "endLine": 1262,
        "endChar": 0
      },
      "tag": "autogenerated:experimental-formatting-bot",
      "revId": "8d78930658a8d2c34e54e50f39e0b898ed9feb30",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "480015bd_73c243e2",
        "filename": "src/add-ons/kernel/file_systems/userlandfs/server/kernel_emu.cpp",
        "patchSetId": 1
      },
      "lineNbr": 832,
      "author": {
        "id": 1000630
      },
      "writtenOn": "2025-01-27T13:03:38Z",
      "side": 1,
      "message": "Suggestion from `haiku-format` (change):\n```c++\n\t\terror \u003d allocator.AllocateData(request-\u003ebuffer, buffer, *_size, 1, false,\n\t\t\tsizeof(DoIterativeFDIORequest));\n```",
      "range": {
        "startLine": 831,
        "startChar": 0,
        "endLine": 832,
        "endChar": 0
      },
      "tag": "autogenerated:experimental-formatting-bot",
      "revId": "8d78930658a8d2c34e54e50f39e0b898ed9feb30",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    }
  ]
}