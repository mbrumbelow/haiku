{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "f61d048e_98471933",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 7,
      "author": {
        "id": 1000172
      },
      "writtenOn": "2025-05-09T20:11:47Z",
      "side": 1,
      "message": "Should be:\n\nRemoteDesktop: default cursor on connection\n\nFixes #15903.",
      "revId": "f6bb0c0be44f2828b1fc37f62827daf4bae2d0fa",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8cfded96_96122d42",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 7,
      "author": {
        "id": 1000172
      },
      "writtenOn": "2025-05-09T23:37:35Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f61d048e_98471933",
      "revId": "f6bb0c0be44f2828b1fc37f62827daf4bae2d0fa",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e4ef540b_f62e6046",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 7,
      "author": {
        "id": 1000198
      },
      "writtenOn": "2025-05-12T08:33:15Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f61d048e_98471933",
      "revId": "f6bb0c0be44f2828b1fc37f62827daf4bae2d0fa",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8d51a063_da63e6f6",
        "filename": "src/servers/app/drawing/interface/remote/RemoteHWInterface.cpp",
        "patchSetId": 1
      },
      "lineNbr": 258,
      "author": {
        "id": 1000011
      },
      "writtenOn": "2025-05-09T19:58:59Z",
      "side": 1,
      "message": "Must we create a new CursorManager here? Is this even a fully legal use of it? CC madmax.",
      "revId": "f6bb0c0be44f2828b1fc37f62827daf4bae2d0fa",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d4419587_4c70f76f",
        "filename": "src/servers/app/drawing/interface/remote/RemoteHWInterface.cpp",
        "patchSetId": 1
      },
      "lineNbr": 258,
      "author": {
        "id": 1000198
      },
      "writtenOn": "2025-05-09T20:06:45Z",
      "side": 1,
      "message": "@Pulkomandy SetCursor() needs a ServerCursor as parameter. I tought to use CursorManager this way was the normal process to get one.",
      "parentUuid": "8d51a063_da63e6f6",
      "revId": "f6bb0c0be44f2828b1fc37f62827daf4bae2d0fa",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "79b0f94f_68f3c3c5",
        "filename": "src/servers/app/drawing/interface/remote/RemoteHWInterface.cpp",
        "patchSetId": 1
      },
      "lineNbr": 258,
      "author": {
        "id": 1000223
      },
      "writtenOn": "2025-05-10T11:28:42Z",
      "side": 1,
      "message": "You may have been thinking of someone else, I don\u0027t remember even having had a look at this code.\n\nFrom what I see, Desktop has a CursorManager throughout its life, and it sets the default cursor on init. I don\u0027t know how the remote desktop works, but I guess the proper place to do it would be the equivalent. Is that RemoteView? It seems it has an explicit empty cursor. If there\u0027s no reason for that, B_CURSOR_SYSTEM_DEFAULT may be used instead.",
      "parentUuid": "d4419587_4c70f76f",
      "revId": "f6bb0c0be44f2828b1fc37f62827daf4bae2d0fa",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7f41c64d_72bf2e55",
        "filename": "src/servers/app/drawing/interface/remote/RemoteHWInterface.cpp",
        "patchSetId": 1
      },
      "lineNbr": 258,
      "author": {
        "id": 1000198
      },
      "writtenOn": "2025-05-12T08:33:15Z",
      "side": 1,
      "message": "@antiswen@yahoo.es I thought to use B_CURSOR_SYSTEM_DEFAULT  in RemoteView instead of the default empty cursor. What leads me to use the CursorManager is that i wanted the RemoteView to display the *remote* default cursor instead of the *local* one. What do you think of this distinction remote/local cursor (though on haiku i guess very few people redefine cursors so they will always be identical...).",
      "parentUuid": "79b0f94f_68f3c3c5",
      "revId": "f6bb0c0be44f2828b1fc37f62827daf4bae2d0fa",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "73dbcdbf_a9294c2e",
        "filename": "src/servers/app/drawing/interface/remote/RemoteHWInterface.cpp",
        "patchSetId": 1
      },
      "lineNbr": 258,
      "author": {
        "id": 1000011
      },
      "writtenOn": "2025-05-12T21:27:37Z",
      "side": 1,
      "message": "I think the distinction does not matter here, if for some reason the remote wants a default other than \"DEFAULT\" it should send that, but I don\u0027t know when that would be the case. So the client should start out with DEFAULT and then we don\u0027t need to do anything different on the server.",
      "parentUuid": "7f41c64d_72bf2e55",
      "revId": "f6bb0c0be44f2828b1fc37f62827daf4bae2d0fa",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a778ff73_86394c03",
        "filename": "src/servers/app/drawing/interface/remote/RemoteHWInterface.cpp",
        "patchSetId": 1
      },
      "lineNbr": 258,
      "author": {
        "id": 1000198
      },
      "writtenOn": "2025-05-13T06:13:16Z",
      "side": 1,
      "message": "Acknowledged",
      "parentUuid": "73dbcdbf_a9294c2e",
      "revId": "f6bb0c0be44f2828b1fc37f62827daf4bae2d0fa",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c9ec37e2_d343139f",
        "filename": "src/servers/app/drawing/interface/remote/RemoteHWInterface.cpp",
        "patchSetId": 1
      },
      "lineNbr": 258,
      "author": {
        "id": 1000223
      },
      "writtenOn": "2025-05-13T13:32:14Z",
      "side": 1,
      "message": "Well, I didn\u0027t know how this all worked, and RemoteView was just a guess. After a little more digging, I see a new Desktop object is created and RemoteView is in fact the view in the client. That Desktop loads the cursors and sets the default one, so none of this should be necessary. I\u0027ve tried to reproduce the issue and I do get a cursor both with RemoteDesktop app and HTML5 client without any patches, though I\u0027m using just one machine. I guess this latest patch (v4) wouldn\u0027t do anything for the HTML client?",
      "parentUuid": "a778ff73_86394c03",
      "revId": "f6bb0c0be44f2828b1fc37f62827daf4bae2d0fa",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "36189d4f_927d48e1",
        "filename": "src/servers/app/drawing/interface/remote/RemoteHWInterface.cpp",
        "patchSetId": 1
      },
      "lineNbr": 258,
      "author": {
        "id": 1000223
      },
      "writtenOn": "2025-05-13T16:06:36Z",
      "side": 1,
      "message": "Finally managed to setup two VMs to talk to each other. Without patches, HTML client shows the cursor and RemoteDesktop doesn\u0027t.\n\nIn both remote desktop clients the cursor is just another bitmap the view draws, and that\u0027s the reason an empty view cursor is set: to not show both.\n\nWhy is the remote cursor not shown? Because the desktop set it up on init, when the client was not connected. Why is it shown in the HTML client? Well, it\u0027s not, that\u0027s the one from the browser until it changes and a RP_SET_CURSOR message is received.\n\nSo I think your first idea was correct: send the current state on client connection. But it should be the current cursor in use, not the default one: open StyledEdit, move the cursor inside, close connection, reconnect and you should get the I-beam, not the hand. Visibility should be included, as you did, but again with the current value. For some reason HTML client initializes with visibility on and RemoteDesktop with it off. So I think we should probably do just the part `SetCursor` and `SetCursorVisible` do for sending the data, instead of calling them to change it.",
      "parentUuid": "c9ec37e2_d343139f",
      "revId": "f6bb0c0be44f2828b1fc37f62827daf4bae2d0fa",
      "serverId": "40b9299a-d8a8-485d-9b01-e6d3f45eefb5"
    }
  ]
}